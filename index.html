<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-03-03 Sun 08:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jonathan Jin&rsquo;s Emacs Configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jonathan Jin" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Jonathan Jin&rsquo;s Emacs Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1c11971">1. Preamble</a>
<ul>
<li><a href="#org9ae69d1">1.1. Front Matter</a>
<ul>
<li><a href="#orgf7af5d4">1.1.1. Straight</a></li>
<li><a href="#org552b9b1">1.1.2. <code>use-package</code></a></li>
<li><a href="#org18886ab">1.1.3. Baseline</a></li>
</ul>
</li>
<li><a href="#orgfa05fc6">1.2. Functions</a></li>
</ul>
</li>
<li><a href="#orgc8ee4cf">2. General Configurations</a>
<ul>
<li><a href="#org7ed58a3">2.1. Scratch Org-mode</a></li>
<li><a href="#org516b304">2.2. Appearance</a>
<ul>
<li><a href="#orga9a836a">2.2.1. Themes</a></li>
<li><a href="#org5b810f4">2.2.2. General</a></li>
</ul>
</li>
<li><a href="#org2139ec7">2.3. Environment-specific</a>
<ul>
<li><a href="#org7b3dccd">2.3.1. Mac</a></li>
</ul>
</li>
<li><a href="#org8c6059e">2.4. Server</a></li>
<li><a href="#orgcff0145">2.5. &ldquo;Launcher&rdquo;</a></li>
<li><a href="#orgabd8ccc">2.6. Nested .dir-locals.el</a></li>
</ul>
</li>
<li><a href="#org0a25365">3. Keys</a>
<ul>
<li><a href="#org270c1a9">3.1. Personal maps</a></li>
<li><a href="#org15a8c0a">3.2. Keybindings</a></li>
</ul>
</li>
<li><a href="#org41ab046">4. Development Environments</a>
<ul>
<li><a href="#orge2b1bc6">4.1. General Style</a></li>
<li><a href="#org12b0a4d">4.2. Aurora</a></li>
<li><a href="#orgeca1b6a">4.3. C/C++</a></li>
<li><a href="#org1596cf8">4.4. Go</a></li>
<li><a href="#orge16f6a3">4.5. Lisp</a></li>
<li><a href="#org355adee">4.6. Javascript</a></li>
<li><a href="#orgfb90b1a">4.7. LaTeX</a></li>
<li><a href="#orgb1a7827">4.8. zsh</a></li>
<li><a href="#orga8eb3c9">4.9. Haskell</a></li>
<li><a href="#org2505515">4.10. Pants</a></li>
<li><a href="#org583d919">4.11. Ruby</a></li>
<li><a href="#orgf8cd0b1">4.12. SQL</a></li>
<li><a href="#org605bf23">4.13. Thrift</a></li>
<li><a href="#orgf5f6933">4.14. Octave</a></li>
<li><a href="#orge23d01f">4.15. Matlab</a></li>
<li><a href="#org8ec3689">4.16. Python</a></li>
<li><a href="#org11b85df">4.17. Emacs Lisp</a></li>
<li><a href="#org2f48343">4.18. Markdown</a></li>
<li><a href="#org76316bc">4.19. YAML</a></li>
<li><a href="#org1ed32b5">4.20. Twitter</a></li>
<li><a href="#org0824464">4.21. Scala</a></li>
</ul>
</li>
<li><a href="#org4c1c019">5. General Packages</a>
<ul>
<li><a href="#org261b68c">5.1. <code>ace-link</code></a></li>
<li><a href="#org762fc38">5.2. <code>ace-window</code></a></li>
<li><a href="#org6416574">5.3. <code>ansi-color</code></a></li>
<li><a href="#org7d397cb">5.4. <code>browse-url</code></a></li>
<li><a href="#org7b9d62a">5.5. <code>calc</code></a></li>
<li><a href="#org2d59f24">5.6. <code>conf-mode</code></a></li>
<li><a href="#orgbfeb6d5">5.7. <code>company</code></a></li>
<li><a href="#org2de88a5">5.8. <code>dired</code></a></li>
<li><a href="#org444a83e">5.9. <code>doc-view-mode</code></a></li>
<li><a href="#org3dc0d0b">5.10. <code>ediff</code></a></li>
<li><a href="#org186c91a">5.11. <code>exec-path-from-shell</code></a></li>
<li><a href="#org87ba4eb">5.12. Elfeed</a></li>
<li><a href="#org44ad9c2">5.13. Eshell</a>
<ul>
<li><a href="#org32ea771">5.13.1. Initialization file</a></li>
</ul>
</li>
<li><a href="#org7ce2f71">5.14. <code>ess</code></a></li>
<li><a href="#org9f02ea0">5.15. Evil (base + extras)</a></li>
<li><a href="#orgf6fa121">5.16. <code>fill-column-indicator</code></a></li>
<li><a href="#org6067f41">5.17. <code>flycheck</code></a></li>
<li><a href="#orgac2c73c">5.18. Git</a>
<ul>
<li><a href="#orgc25de86">5.18.1. <code>git-commit-mode</code></a></li>
<li><a href="#org5e16011">5.18.2. <code>gitconfig-mode</code></a></li>
<li><a href="#org57f1c6c">5.18.3. <code>gitignore-mode</code></a></li>
<li><a href="#org7f4405c">5.18.4. Magit</a></li>
</ul>
</li>
<li><a href="#org2062ab3">5.19. <code>helm</code></a></li>
<li><a href="#orgabb670a">5.20. <code>linum</code></a></li>
<li><a href="#org060a9a2">5.21. <code>multi-term</code></a></li>
<li><a href="#orge1783e7">5.22. <code>mu4e</code></a></li>
<li><a href="#orge70e1bc">5.23. <code>org-mode</code></a></li>
<li><a href="#org116d2c2">5.24. Org-page</a></li>
<li><a href="#orgfc89dac">5.25. <code>pdf-tools</code></a></li>
<li><a href="#org34a2e22">5.26. <code>projectile</code></a></li>
<li><a href="#orgab18d6d">5.27. <code>rich-minority-mode</code></a></li>
<li><a href="#org34a7a35">5.28. <code>smart-mode-line</code></a></li>
<li><a href="#orgbd40932">5.29. <code>tramp</code></a></li>
<li><a href="#org15edbe5">5.30. <code>undo-tree</code></a></li>
<li><a href="#orgc186910">5.31. <code>w3m</code></a></li>
</ul>
</li>
<li><a href="#org19b85a4">6. (Un)license</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1c11971" class="outline-2">
<h2 id="org1c11971"><span class="section-number-2">1</span> Preamble</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path (expand-file-name <span style="color: #A3BE8C;">"~/.emacs.d/elpa"</span>))

(<span style="color: #81A1C1;">setq</span> package-archives '((<span style="color: #A3BE8C;">"gnu"</span>           . <span style="color: #A3BE8C;">"http://elpa.gnu.org/packages/"</span>)
                          (<span style="color: #A3BE8C;">"melpa-stable"</span> . <span style="color: #A3BE8C;">"http://stable.melpa.org/packages/"</span>)
                          (<span style="color: #A3BE8C;">"melpa"</span>        . <span style="color: #A3BE8C;">"http://melpa.org/packages/"</span>)
                          (<span style="color: #A3BE8C;">"org"</span>          . <span style="color: #A3BE8C;">"http://orgmode.org/elpa/"</span>)))

(package-initialize)
</pre>
</div>
</div>

<div id="outline-container-org9ae69d1" class="outline-3">
<h3 id="org9ae69d1"><span class="section-number-3">1.1</span> Front Matter</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-orgf7af5d4" class="outline-4">
<h4 id="orgf7af5d4"><span class="section-number-4">1.1.1</span> Straight</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">let</span> ((bootstrap-file
       (expand-file-name <span style="color: #A3BE8C;">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 4))
  (<span style="color: #81A1C1;">unless</span> (file-exists-p bootstrap-file)
    (<span style="color: #81A1C1;">with-current-buffer</span>
        (url-retrieve-synchronously
         <span style="color: #A3BE8C;">"https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'use-package)
(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">use-package-ensure-system-package</span>
  <span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org552b9b1" class="outline-4">
<h4 id="org552b9b1"><span class="section-number-4">1.1.2</span> <code>use-package</code></h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
The <code>:if</code> clause lets us suppress configuration/loading of a given package
if a provided condition doesn&rsquo;t hold. The following will log such cases
non-fatally.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/use-package-if-prehook</span> (name _keyword pred rest state)
  (<span style="color: #81A1C1;">if</span> (not pred) (<span style="color: #EBCB8B;">error</span> <span style="color: #A3BE8C;">"predicate failed; skipping package"</span>)))

(advice-add 'use-package-handler/:if <span style="color: #81A1C1;">:before</span> 'jjin/use-package-if-prehook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org18886ab" class="outline-4">
<h4 id="org18886ab"><span class="section-number-4">1.1.3</span> Baseline</h4>
<div class="outline-text-4" id="text-1-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">diminish</span> <span style="color: #81A1C1;">:straight</span> t)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">names</span>
  <span style="color: #81A1C1;">:straight</span> t)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">system-packages</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">when</span> (eq system-type 'darwin)
    (<span style="color: #81A1C1;">setq</span> system-packages-package-manager 'brew)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfa05fc6" class="outline-3">
<h3 id="orgfa05fc6"><span class="section-number-3">1.2</span> Functions</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">define-namespace</span> jjin-
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">load-if-exists</span> (file)
  <span style="color: #616e88;">"Loads file, conditional on its existence; no effect if non-existent."</span>
  (<span style="color: #81A1C1;">when</span> (file-exists-p file)
    (load-file file)))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">kill-current-buffer</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (kill-buffer (current-buffer)))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">window-toggle-split-direction</span> ()
  <span style="color: #616e88;">"Switch window split from horizontally to vertically, or vice versa.</span>

<span style="color: #616e88;">i.e. change right window to bottom, or change bottom window to right."</span>
  (<span style="color: #81A1C1;">interactive</span>)
  (<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">windmove</span>)
  (<span style="color: #81A1C1;">let</span> ((done))
    (<span style="color: #81A1C1;">dolist</span> (dirs '((right . down) (down . right)))
      (<span style="color: #81A1C1;">unless</span> done
        (<span style="color: #81A1C1;">let*</span> ((win (selected-window))
               (nextdir (car dirs))
               (neighbour-dir (cdr dirs))
               (next-win (windmove-find-other-window nextdir win))
               (neighbour1 (windmove-find-other-window neighbour-dir win))
               (neighbour2 (<span style="color: #81A1C1;">if</span> next-win (<span style="color: #81A1C1;">with-selected-window</span> next-win
                                          (windmove-find-other-window
                                           neighbour-dir next-win)))))

          (<span style="color: #81A1C1;">setq</span> done (<span style="color: #81A1C1;">and</span> (eq neighbour1 neighbour2)
                          (not (eq (minibuffer-window) next-win))))
          (<span style="color: #81A1C1;">if</span> done
              (<span style="color: #81A1C1;">let*</span> ((other-buf (window-buffer next-win)))
                (delete-window next-win)
                (<span style="color: #81A1C1;">if</span> (eq nextdir 'right)
                    (split-window-vertically)
                  (split-window-horizontally))
                (set-window-buffer (windmove-find-other-window neighbour-dir)
                                   other-buf))))))))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">insert-newline-after</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (<span style="color: #81A1C1;">let</span> ((oldpos (point)))
    (end-of-line)
    (newline-and-indent)
    (goto-char oldpos)))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">set-opacity</span> (value)
  <span style="color: #616e88;">"Sets the opacity of the frame window. 0=transparent/100=opaque"</span>
  (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"nOpacity Value (0 - 100 opaque): "</span>)
  (set-frame-parameter (selected-frame) 'alpha value))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">dired-at-current</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (dired default-directory))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">prev-window</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (other-window -1))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">credit: https://gist.github.com/mads379/3402786</span>
<span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: modeline indication</span>
<span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: if maximized, prevent other window splitting (use minor mode?)</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">toggle-maximize-window</span> ()
  <span style="color: #616e88;">"Maximize window"</span>
  (<span style="color: #81A1C1;">interactive</span>)
  (<span style="color: #81A1C1;">if</span> (= 1 (length (window-list)))
      (jump-to-register '_)
    (<span style="color: #81A1C1;">progn</span>
      (window-configuration-to-register '_)
      (delete-other-windows))))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">credit: https://github.com/abo-abo/hydra/blob/master/hydra-examples.el</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">move-splitter-left</span> (arg)
  <span style="color: #616e88;">"Move window splitter left."</span>
  (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"p"</span>)
  (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">let</span> ((windmove-wrap-around))
        (windmove-find-other-window 'right))
      (shrink-window-horizontally arg)
    (enlarge-window-horizontally arg)))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">credit: https://github.com/abo-abo/hydra/blob/master/hydra-examples.el</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">move-splitter-right</span> (arg)
  <span style="color: #616e88;">"Move window splitter right."</span>
  (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"p"</span>)
  (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">let</span> ((windmove-wrap-around))
        (windmove-find-other-window 'right))
      (enlarge-window-horizontally arg)
    (shrink-window-horizontally arg)))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">credit: https://github.com/abo-abo/hydra/blob/master/hydra-examples.el</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">move-splitter-up</span> (arg)
  <span style="color: #616e88;">"Move window splitter up."</span>
  (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"p"</span>)
  (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">let</span> ((windmove-wrap-around))
        (windmove-find-other-window 'up))
      (enlarge-window arg)
    (shrink-window arg)))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">credit: https://github.com/abo-abo/hydra/blob/master/hydra-examples.el</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">move-splitter-down</span> (arg)
  <span style="color: #616e88;">"Move window splitter down."</span>
  (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"p"</span>)
  (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">let</span> ((windmove-wrap-around))
        (windmove-find-other-window 'up))
      (shrink-window arg)
    (enlarge-window arg)))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: set modeline</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">toggle-dedicated</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (set-window-dedicated-p (selected-window)
                          (not (window-dedicated-p (selected-window)))))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">bury-compile-buffer-if-successful</span> (buffer string)
  <span style="color: #616e88;">"Bury a compilation buffer if succeeded without warnings "</span>
  (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">and</span>
       (string-match <span style="color: #A3BE8C;">"compilation"</span> (buffer-name buffer))
       (string-match <span style="color: #A3BE8C;">"finished"</span> string)
       (not
        (<span style="color: #81A1C1;">with-current-buffer</span> buffer
          (search-forward <span style="color: #A3BE8C;">"warning"</span> nil t))))
      (run-with-timer 1 nil
                      (<span style="color: #81A1C1;">lambda</span> (buf)
                        (bury-buffer buf)
                        (delete-window (get-buffer-window buf)))
                      buffer)))
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">get-current-displays</span> ()
  <span style="color: #616e88;">"Get alist of attributes of displays w/ Emacs buffers."</span>
  (<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">cl</span>)
  (<span style="color: #81A1C1;">interactive</span>)
  (remove-if
   (<span style="color: #81A1C1;">lambda</span> (disp)
     (eq nil (cdr (assoc 'frames disp))))
   (display-monitor-attributes-list)))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">fontify-frame</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  <span style="color: #A3BE8C;">"Adjusts frame's text size according to current display's</span>
<span style="color: #A3BE8C;">resolution. Prevents illegibly small text on high-resolution</span>
<span style="color: #A3BE8C;">displays and, similarly, impractically large text on</span>
<span style="color: #A3BE8C;">low-resolution displays."</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: assumes only one emacs frame on one disp</span>
  (<span style="color: #81A1C1;">let*</span> ((curr-disp (car (jjin-get-current-displays)))
         (disp-width (nth 3 (assoc 'geometry curr-disp)))
         (font-name (<span style="color: #81A1C1;">if</span> (eq system-type 'darwin) <span style="color: #A3BE8C;">"Terminus (TTF)"</span> <span style="color: #A3BE8C;">"Terminus"</span>))
         (font-size (<span style="color: #81A1C1;">if</span> (&gt; disp-width 2000) <span style="color: #A3BE8C;">"12"</span> <span style="color: #A3BE8C;">"04"</span>)))
    (<span style="color: #81A1C1;">if</span> (display-graphic-p)
        (set-frame-parameter nil 'font (string-join `(,font-name ,font-size) <span style="color: #A3BE8C;">" "</span>))))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc8ee4cf" class="outline-2">
<h2 id="orgc8ee4cf"><span class="section-number-2">2</span> General Configurations</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(jjin-load-if-exists <span style="color: #A3BE8C;">"~/.secrets.el"</span>)

(<span style="color: #81A1C1;">setq</span> ring-bell-function 'ignore)

(<span style="color: #81A1C1;">setq</span> large-file-warning-threshold nil)

(<span style="color: #81A1C1;">setq</span>
  user-mail-address <span style="color: #A3BE8C;">"jjin082693@gmail.com"</span>
  user-full-name  <span style="color: #A3BE8C;">"Jonathan Jin"</span>)

(<span style="color: #81A1C1;">setq</span>
  inhibit-startup-screen t
  inhibit-startup-message t
  initial-scratch-message nil
  visible-bell t
  use-dialog-box nil)

(<span style="color: #81A1C1;">setq-default</span>
  fill-column 80
  indent-tabs-mode nil
  tab-width 4)

(<span style="color: #81A1C1;">setq</span> next-line-add-newlines t)

(<span style="color: #81A1C1;">setq</span> scroll-step 1
  scroll-conservatively 10000
  scroll-margin 3)

(fset 'yes-or-no-p 'y-or-n-p)

(<span style="color: #81A1C1;">if</span> window-system
    (<span style="color: #81A1C1;">progn</span>
      (tool-bar-mode     0)
      (scroll-bar-mode   0)
      (menu-bar-mode     0)
      (line-number-mode  0)))

(blink-cursor-mode 0)

(global-auto-revert-mode)
(<span style="color: #81A1C1;">setq</span> auto-revert-remote-files t)

(global-hl-line-mode 1)
(column-number-mode  1)
(show-paren-mode     1)

(electric-pair-mode)

(delete-selection-mode +1)

(add-hook 'prog-mode-hook 'turn-on-auto-fill)
(add-hook 'text-mode-hook 'turn-on-auto-fill)

(fringe-mode '(4 . 0))

(<span style="color: #81A1C1;">with-eval-after-load</span> 'dired
  (define-key dired-mode-map (kbd <span style="color: #A3BE8C;">"RET"</span>) 'dired-find-alternate-file))

(put 'dired-find-alternate-file 'disabled nil)

(<span style="color: #81A1C1;">setq</span> echo-keystrokes 0)

(<span style="color: #81A1C1;">setq</span> image-dired-external-viewer <span style="color: #A3BE8C;">"feh"</span>)

(<span style="color: #81A1C1;">setq</span> term-ansi-default-program (getenv <span style="color: #A3BE8C;">"SHELL"</span>))

(<span style="color: #81A1C1;">setq</span> enable-remote-dir-locals t)

(<span style="color: #81A1C1;">defconst</span> <span style="color: #D8DEE9;">custom-file-path</span> <span style="color: #A3BE8C;">"~/.emacs-custom.el"</span>)
(<span style="color: #81A1C1;">if</span> (file-exists-p custom-file-path)
    (load (<span style="color: #81A1C1;">setq</span> custom-file custom-file-path)))
</pre>
</div>
</div>

<div id="outline-container-org7ed58a3" class="outline-3">
<h3 id="org7ed58a3"><span class="section-number-3">2.1</span> Scratch Org-mode</h3>
<div class="outline-text-3" id="text-2-1">
<p>
I spend more time in Org-mode than I do writing Elisp.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq</span> initial-major-mode 'org-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org516b304" class="outline-3">
<h3 id="org516b304"><span class="section-number-3">2.2</span> Appearance</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-orga9a836a" class="outline-4">
<h4 id="orga9a836a"><span class="section-number-4">2.2.1</span> Themes</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">gotham-theme</span>
  <span style="color: #81A1C1;">:if</span> window-system
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:config</span>
  (load-theme 'gotham t)) 

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">nord-theme</span>
  <span style="color: #81A1C1;">:if</span> window-system
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:host</span> github <span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"arcticicestudio/nord-emacs"</span> <span style="color: #81A1C1;">:branch</span> <span style="color: #A3BE8C;">"develop"</span>)
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> nord-comment-brightness 10)
  <span style="color: #81A1C1;">:config</span>
  (load-theme 'nord t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5b810f4" class="outline-4">
<h4 id="org5b810f4"><span class="section-number-4">2.2.2</span> General</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq-default</span> x-stretch-cursor t)

(<span style="color: #81A1C1;">setq</span> custom-safe-themes t)

(set-frame-font
 (<span style="color: #81A1C1;">cond</span> 
  ((string= <span style="color: #A3BE8C;">"gnu/linux"</span> system-type) <span style="color: #A3BE8C;">"-xos4-terminus-medium-r-normal--28-*-72-72-c-140-iso10646-1"</span>)
  ((string= <span style="color: #A3BE8C;">"darwin"</span> system-type) <span style="color: #A3BE8C;">"Terminus (TTF) 16"</span>)
   (t <span style="color: #A3BE8C;">"Terminus 16"</span>)))

(<span style="color: #81A1C1;">when</span> (functionp 'set-fontset-font)
  (set-fontset-font <span style="color: #A3BE8C;">"fontset-default"</span>
                    'unicode
                    (font-spec <span style="color: #81A1C1;">:family</span> <span style="color: #A3BE8C;">"DejaVu Sans Mono"</span>)))

(jjin-set-opacity 90)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2139ec7" class="outline-3">
<h3 id="org2139ec7"><span class="section-number-3">2.3</span> Environment-specific</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org7b3dccd" class="outline-4">
<h4 id="org7b3dccd"><span class="section-number-4">2.3.1</span> Mac</h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">when</span> (eq system-type 'darwin)
  (<span style="color: #81A1C1;">setq</span> mac-command-modifier 'meta)
  (<span style="color: #81A1C1;">setq</span> mac-right-command-modifier 'meta)
  (<span style="color: #81A1C1;">setq</span> mac-option-modifier 'super)
  (<span style="color: #81A1C1;">setq</span> mac-right-option-modifier 'super)
  (<span style="color: #81A1C1;">setq</span> system-uses-terminfo nil))
</pre>
</div>

<p>
<code>compilation-mode</code> invokes shell in a non-interactive shell, which means
that configurations in <code>.bashrc</code> do not get surfaced. This can cause
complications in cases where, for instance, successful compilation is
predicated on conditions set within a provisioned profile file that I do not
control. When Bash is started non-interactively, it looks for <code>BASH_ENV</code> in
the environment, expands its value if it appears there, and uses the
expanded value as the name of a file to read and execute. As such, we set
that environment value to our startup file here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">when</span> (eq system-type 'darwin) (setenv <span style="color: #A3BE8C;">"BASH_ENV"</span> <span style="color: #A3BE8C;">"$HOME/.bashrc"</span>))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org8c6059e" class="outline-3">
<h3 id="org8c6059e"><span class="section-number-3">2.4</span> Server</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Make sure <code>EDITOR</code> and/or <code>VISUAL</code> is/are set to <code>emacsclient</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">server</span>
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">unless</span> (server-running-p) (server-start)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcff0145" class="outline-3">
<h3 id="orgcff0145"><span class="section-number-3">2.5</span> &ldquo;Launcher&rdquo;</h3>
<div class="outline-text-3" id="text-2-5">
<p>
I like to keep several functions within Emacs within a short key press away;
these tend to correspond to &ldquo;applications&rdquo; such as email, RSS, Slack,
etc.
</p>

<p>
The following allows me to emulate <a href="https://en.wikipedia.org/wiki/Spotlight_(software)">macOS&rsquo;s Spotlight functionality</a> in a
lightweight manner, to put these regularly used &ldquo;applications&rdquo; within easy
reach.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">helm-exec</span>
  <span style="color: #81A1C1;">:after</span> helm
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"https://github.com/jinnovation/helm-exec.git"</span>)
  <span style="color: #81A1C1;">:bind</span> ((<span style="color: #A3BE8C;">"C-c e"</span> . helm-exec-execute)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabd8ccc" class="outline-3">
<h3 id="orgabd8ccc"><span class="section-number-3">2.6</span> Nested .dir-locals.el</h3>
<div class="outline-text-3" id="text-2-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">nested-dir-local</span>
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"git@github.com:jinnovation/nested-dir-locals.el.git"</span>))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org0a25365" class="outline-2">
<h2 id="org0a25365"><span class="section-number-2">3</span> Keys</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org270c1a9" class="outline-3">
<h3 id="org270c1a9"><span class="section-number-3">3.1</span> Personal maps</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-prefix-command 'jjin-vc-map)
(<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c v"</span> 'jjin-vc-map)

(define-prefix-command 'jjin-chat-map)
(<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c i"</span> 'jjin-chat-map)

(define-prefix-command 'jjin-comment-map)
(<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c c"</span> 'jjin-comment-map)

(define-prefix-command 'jjin-term-map)
(<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c t"</span> 'jjin-term-map)

(define-prefix-command 'jjin-buffer-map)
(<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c b"</span> 'jjin-buffer-map)
</pre>
</div>
</div>
</div>

<div id="outline-container-org15a8c0a" class="outline-3">
<h3 id="org15a8c0a"><span class="section-number-3">3.2</span> Keybindings</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> global-map
           (<span style="color: #A3BE8C;">"C-x k"</span>              . jjin-kill-current-buffer)
           (<span style="color: #A3BE8C;">"RET"</span>                . newline-and-indent))

(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"&lt;menu&gt;"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"M-`"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"C-c C-w"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"C-x C-n"</span>)      <span style="color: #616e88;">; </span><span style="color: #616e88;">set-goal-column</span>

(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"&lt;f10&gt;"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"&lt;f11&gt;"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"M-&lt;f10&gt;"</span>)
(<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"&lt;escape&gt; &lt;f10&gt;"</span>)

(<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-buffer-map
           (<span style="color: #A3BE8C;">"r"</span> . rename-buffer))

(<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> global-map
           (<span style="color: #A3BE8C;">"&lt;s-backspace&gt;"</span> . backward-kill-word))

(<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> global-map
           (<span style="color: #A3BE8C;">"s-s"</span> . save-buffer))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">org-src</span>
  <span style="color: #81A1C1;">:bind</span> ((<span style="color: #A3BE8C;">"s-s"</span> . org-edit-src-save)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">hydra</span>
  <span style="color: #81A1C1;">:commands</span> defhydra
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">defhydra</span> jjin-hydra-window (global-map <span style="color: #A3BE8C;">"C-c w"</span>)
    <span style="color: #616e88;">"Commands relating to window manipulation"</span>
    (<span style="color: #A3BE8C;">"h"</span> windmove-left <span style="color: #A3BE8C;">"move left"</span>)
    (<span style="color: #A3BE8C;">"l"</span> windmove-right <span style="color: #A3BE8C;">"move right"</span>)
    (<span style="color: #A3BE8C;">"j"</span> windmove-down <span style="color: #A3BE8C;">"move down"</span>)
    (<span style="color: #A3BE8C;">"k"</span> windmove-up <span style="color: #A3BE8C;">"move up"</span>)
    (<span style="color: #A3BE8C;">"q"</span> delete-window <span style="color: #A3BE8C;">"delete window"</span>)
    (<span style="color: #A3BE8C;">"Q"</span> kill-buffer-and-window <span style="color: #A3BE8C;">"kill buffer, delete window"</span>)
    (<span style="color: #A3BE8C;">"H"</span> jjin-move-splitter-left <span style="color: #A3BE8C;">"move splitter left"</span>)
    (<span style="color: #A3BE8C;">"L"</span> jjin-move-splitter-right <span style="color: #A3BE8C;">"move splitter right"</span>)
    (<span style="color: #A3BE8C;">"J"</span> jjin-move-splitter-down <span style="color: #A3BE8C;">"move splitter down"</span>)
    (<span style="color: #A3BE8C;">"K"</span> jjin-move-splitter-up <span style="color: #A3BE8C;">"move splitter up"</span>)
    (<span style="color: #A3BE8C;">"b"</span> balance-windows)
    (<span style="color: #A3BE8C;">"|"</span> jjin-window-toggle-split-direction)
    (<span style="color: #A3BE8C;">"s"</span> split-window-below <span style="color: #A3BE8C;">"split window (below)"</span>)
    (<span style="color: #A3BE8C;">"v"</span> split-window-right <span style="color: #A3BE8C;">"split window (right)"</span>)
    (<span style="color: #A3BE8C;">";"</span> ace-window <span style="color: #A3BE8C;">"select window"</span> <span style="color: #81A1C1;">:exit</span> t)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org41ab046" class="outline-2">
<h2 id="org41ab046"><span class="section-number-2">4</span> Development Environments</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orge2b1bc6" class="outline-3">
<h3 id="orge2b1bc6"><span class="section-number-3">4.1</span> General Style</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(c-set-offset 'arglist-intro '+)
(c-set-offset 'arglist-close 0)
</pre>
</div>
</div>
</div>

<div id="outline-container-org12b0a4d" class="outline-3">
<h3 id="org12b0a4d"><span class="section-number-3">4.2</span> Aurora</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">aurora-config-mode</span>
  <span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeca1b6a" class="outline-3">
<h3 id="orgeca1b6a"><span class="section-number-3">4.3</span> C/C++</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq</span> c-block-comment-prefix <span style="color: #A3BE8C;">"* "</span>)

(<span style="color: #81A1C1;">defvaralias</span> '<span style="color: #D8DEE9;">c-basic-offset</span> 'tab-width)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">irony</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:commands</span> irony-mode
  <span style="color: #81A1C1;">:init</span>
  (add-hook 'c-mode-hook 'irony-mode)
  (add-hook 'c++-mode-hook 'irony-mode)
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">flycheck-irony</span>
    <span style="color: #81A1C1;">:config</span>
    (add-hook 'flycheck-mode-hook 'flycheck-irony-setup)))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">company-irony</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-to-list 'company-backends 'company-irony))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">clang-format</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-to-list 'auto-mode-alist '(<span style="color: #A3BE8C;">"\\.clang-format$"</span> . yaml-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1596cf8" class="outline-3">
<h3 id="org1596cf8"><span class="section-number-3">4.4</span> Go</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">go-mode</span>
  <span style="color: #81A1C1;">:mode</span> <span style="color: #A3BE8C;">"\\.go$"</span>
  <span style="color: #81A1C1;">:straight</span> t

  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">if</span> (executable-find <span style="color: #A3BE8C;">"goimports"</span>)
      (<span style="color: #81A1C1;">setq</span> gofmt-command <span style="color: #A3BE8C;">"goimports"</span>)
    (message <span style="color: #A3BE8C;">"Goimports not found; using default `</span><span style="color: #81A1C1;">gofmt-command</span><span style="color: #A3BE8C;">'"</span>))

  <span style="color: #81A1C1;">:config</span>
  (add-hook 'before-save-hook 'gofmt-before-save))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">company-go</span>
  <span style="color: #81A1C1;">:after</span> go
  <span style="color: #81A1C1;">:disabled</span> t)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">go-guru</span>
  <span style="color: #81A1C1;">:after</span> go
  <span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge16f6a3" class="outline-3">
<h3 id="orge16f6a3"><span class="section-number-3">4.5</span> Lisp</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #A3BE8C;">"emacs$"</span> . emacs-lisp-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #A3BE8C;">"Cask"</span> . emacs-lisp-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org355adee" class="outline-3">
<h3 id="org355adee"><span class="section-number-3">4.6</span> Javascript</h3>
<div class="outline-text-3" id="text-4-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">defvaralias</span> '<span style="color: #D8DEE9;">js-indent-level</span> 'tab-width)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">js2-mode</span>
  <span style="color: #81A1C1;">:mode</span> ((<span style="color: #A3BE8C;">"\\.js$"</span> . js2-mode)
         (<span style="color: #A3BE8C;">"\\.jsx$"</span> . js2-jsx-mode))
  <span style="color: #81A1C1;">:straight</span> t)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">json-mode</span>
  <span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfb90b1a" class="outline-3">
<h3 id="orgfb90b1a"><span class="section-number-3">4.7</span> LaTeX</h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #616e88;">;; </span><span style="color: #616e88;">sets latex-mode to compile w/ pdflatex by default</span>
(<span style="color: #81A1C1;">setq</span> TeX-PDF-mode t
    TeX-parse-self t
    TeX-newline-function 'reindent-then-newline-and-indent)

(eval-after-load <span style="color: #A3BE8C;">"tex"</span>
    '(setcdr (assoc <span style="color: #A3BE8C;">"LaTeX"</span> TeX-command-list)
         '(<span style="color: #A3BE8C;">"%`%l%(mode) -shell-escape%' %t"</span>
              TeX-run-TeX nil (latex-mode doctex-mode) <span style="color: #81A1C1;">:help</span> <span style="color: #A3BE8C;">"Run LaTeX"</span>)))

<span style="color: #616e88;">;; </span><span style="color: #616e88;">latex-mode-specific hooks (because latex-mode is not derived from prog-mode)</span>
(add-hook 'LaTeX-mode-hook
    (<span style="color: #81A1C1;">lambda</span> ()
        (TeX-fold-mode 1)
        (auto-fill-mode)
        (add-to-list 'TeX-command-list '(<span style="color: #A3BE8C;">"XeLaTeX"</span> <span style="color: #A3BE8C;">"%`xelatex%(mode)%' %t"</span>
                                            TeX-run-TeX nil t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1a7827" class="outline-3">
<h3 id="orgb1a7827"><span class="section-number-3">4.8</span> zsh</h3>
<div class="outline-text-3" id="text-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #A3BE8C;">"zshrc$"</span> . sh-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #A3BE8C;">"\\.zsh$"</span> . sh-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8eb3c9" class="outline-3">
<h3 id="orga8eb3c9"><span class="section-number-3">4.9</span> Haskell</h3>
<div class="outline-text-3" id="text-4-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">haskell-mode</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'haskell-mode-hook 'turn-on-haskell-indent))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2505515" class="outline-3">
<h3 id="org2505515"><span class="section-number-3">4.10</span> Pants</h3>
<div class="outline-text-3" id="text-4-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">pants-build-mode</span>
  <span style="color: #81A1C1;">:mode</span> (<span style="color: #A3BE8C;">"BUILD$"</span>)
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"git@github.com:jinnovation/pants-build-mode.git"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org583d919" class="outline-3">
<h3 id="org583d919"><span class="section-number-3">4.11</span> Ruby</h3>
<div class="outline-text-3" id="text-4-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">enh-ruby-mode</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:mode</span> (<span style="color: #A3BE8C;">"Gemfile"</span> <span style="color: #A3BE8C;">"Guardfile"</span>)
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">defvaralias</span> '<span style="color: #D8DEE9;">ruby-indent-level</span> 'tab-width))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ruby-end</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'ruby-mode-hook 'ruby-end-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8cd0b1" class="outline-3">
<h3 id="orgf8cd0b1"><span class="section-number-3">4.12</span> SQL</h3>
<div class="outline-text-3" id="text-4-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq</span> sql-mysql-options '(<span style="color: #A3BE8C;">"--local-infile"</span>))

(add-hook 'sql-interactive-mode-hook
          (<span style="color: #81A1C1;">lambda</span> ()
            (toggle-truncate-lines t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org605bf23" class="outline-3">
<h3 id="org605bf23"><span class="section-number-3">4.13</span> Thrift</h3>
<div class="outline-text-3" id="text-4-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">thrift</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:if</span> (eq system-type 'darwin) <span style="color: #616e88;">;; </span><span style="color: #616e88;">only need this on work computer</span>
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'thrift-mode-hook
            (<span style="color: #81A1C1;">lambda</span> ()
              (<span style="color: #81A1C1;">setq</span> comment-start <span style="color: #A3BE8C;">"//"</span>)
              (<span style="color: #81A1C1;">setq</span> comment-end <span style="color: #A3BE8C;">""</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5f6933" class="outline-3">
<h3 id="orgf5f6933"><span class="section-number-3">4.14</span> Octave</h3>
<div class="outline-text-3" id="text-4-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">octave</span>
  <span style="color: #81A1C1;">:mode</span> (<span style="color: #A3BE8C;">"\\.m$"</span> . octave-mode)
  <span style="color: #81A1C1;">:interpreter</span> (<span style="color: #A3BE8C;">"octave"</span> . octave-mode)
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
      (<span style="color: #81A1C1;">progn</span>
        (add-to-list 'evil-emacs-state-modes 'octave-help-mode)
        (add-to-list 'evil-emacs-state-modes 'inferior-octave-mode)))

  (<span style="color: #81A1C1;">setq</span> inferior-octave-program <span style="color: #A3BE8C;">"octave-cli"</span>)
  (<span style="color: #81A1C1;">setq</span> inferior-octave-prompt <span style="color: #A3BE8C;">"&gt;&gt; "</span>)
  (<span style="color: #81A1C1;">setq</span> inferior-octave-dynamic-complete-functions '(comint-filename-completion))

  (<span style="color: #81A1C1;">setq</span> inferior-octave-startup-args '(<span style="color: #A3BE8C;">"-i"</span> <span style="color: #A3BE8C;">"--line-editing"</span> <span style="color: #A3BE8C;">"-q"</span> <span style="color: #A3BE8C;">"--traditional"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge23d01f" class="outline-3">
<h3 id="orge23d01f"><span class="section-number-3">4.15</span> Matlab</h3>
<div class="outline-text-3" id="text-4-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">matlab</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> matlab-shell-command-switches '(<span style="color: #A3BE8C;">"-nodesktop"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ec3689" class="outline-3">
<h3 id="org8ec3689"><span class="section-number-3">4.16</span> Python</h3>
<div class="outline-text-3" id="text-4-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq</span> python-fill-docstring-style 'pep-257)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">pyvenv</span>
  <span style="color: #81A1C1;">:straight</span> t)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">elpy</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> elpy-modules '(elpy-module-company
                       elpy-module-eldoc
                       elpy-module-flymake
                       elpy-module-pyvenv
                       elpy-module-yasnippet
                       elpy-module-sane-defaults))
  (elpy-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-org11b85df" class="outline-3">
<h3 id="org11b85df"><span class="section-number-3">4.17</span> Emacs Lisp</h3>
<div class="outline-text-3" id="text-4-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">elisp-mode</span>
  <span style="color: #81A1C1;">:bind</span> ((<span style="color: #A3BE8C;">"C-c C-f"</span> . find-function)
         (<span style="color: #A3BE8C;">"C-c C-v"</span> . find-variable)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f48343" class="outline-3">
<h3 id="org2f48343"><span class="section-number-3">4.18</span> Markdown</h3>
<div class="outline-text-3" id="text-4-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">markdown-mode</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:mode</span> <span style="color: #A3BE8C;">"\\.md$"</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> markdown-asymmetric-header t)
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'markdown-mode-hook 'auto-fill-mode))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">markdown-mode+</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:after</span> markdown-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org76316bc" class="outline-3">
<h3 id="org76316bc"><span class="section-number-3">4.19</span> YAML</h3>
<div class="outline-text-3" id="text-4-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">yaml-mode</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:mode</span> <span style="color: #A3BE8C;">"\\.yaml$"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ed32b5" class="outline-3">
<h3 id="org1ed32b5"><span class="section-number-3">4.20</span> Twitter</h3>
<div class="outline-text-3" id="text-4-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">with-eval-after-load</span> 'projectile
  (projectile-register-project-type 'twitter-source-sub '(<span style="color: #A3BE8C;">".pants.d"</span>)
                                    <span style="color: #81A1C1;">:compilation-dir</span> <span style="color: #A3BE8C;">"~/workspace/source/"</span>
                                    <span style="color: #81A1C1;">:compile</span> <span style="color: #A3BE8C;">"./pants "</span>
                                    <span style="color: #81A1C1;">:test</span> <span style="color: #A3BE8C;">"./pants test "</span>
                                    <span style="color: #81A1C1;">:run</span> <span style="color: #A3BE8C;">"./pants "</span>))
(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">twitter-source</span>
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:local-repo</span> <span style="color: #A3BE8C;">"~/workspace/twitter-source.el"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0824464" class="outline-3">
<h3 id="org0824464"><span class="section-number-3">4.21</span> Scala</h3>
<div class="outline-text-3" id="text-4-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">scala-mode</span>
  <span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4c1c019" class="outline-2">
<h2 id="org4c1c019"><span class="section-number-2">5</span> General Packages</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org261b68c" class="outline-3">
<h3 id="org261b68c"><span class="section-number-3">5.1</span> <code>ace-link</code></h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ace-link</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:commands</span> (ace-link-eww ace-link-setup-default)
  <span style="color: #81A1C1;">:init</span> (ace-link-setup-default))
</pre>
</div>
</div>
</div>

<div id="outline-container-org762fc38" class="outline-3">
<h3 id="org762fc38"><span class="section-number-3">5.2</span> <code>ace-window</code></h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ace-window</span>
  <span style="color: #81A1C1;">:commands</span> ace-window
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> aw-keys '(?a ?r ?s ?t ?q ?w ?f ?p))

  <span style="color: #81A1C1;">:config</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">technically should be able to use mu4e~update-name but for whatever reason</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">the mu4e update index function uses the hardcoded string w/ space padding.</span>
  (add-to-list 'aw-ignored-buffers <span style="color: #A3BE8C;">" *mu4e-update*"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6416574" class="outline-3">
<h3 id="org6416574"><span class="section-number-3">5.3</span> <code>ansi-color</code></h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ansi-color</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> ansi-color-faces-vector
    [default bold shadow italic underline bold bold-italic bold])
  (<span style="color: #81A1C1;">setq</span> compilation-scroll-output t)
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">colorize-compilation-buffer</span> ()
    (toggle-read-only)
    (ansi-color-apply-on-region (point-min) (point-max))
    (toggle-read-only))

  (add-hook 'compilation-filter-hook 'colorize-compilation-buffer))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d397cb" class="outline-3">
<h3 id="org7d397cb"><span class="section-number-3">5.4</span> <code>browse-url</code></h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">browse-url</span>
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">setq</span> browse-url-browser-function
        (<span style="color: #81A1C1;">if</span> (browse-url-can-use-xdg-open) 'browse-url-xdg-open
          'browse-url-default-browser))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: regex search for chromium (some distros package the name differently)</span>
  (<span style="color: #81A1C1;">setq</span> browse-url-generic-program
        (<span style="color: #81A1C1;">if</span> (eq system-type 'darwin)
            <span style="color: #A3BE8C;">"open"</span>
          (executable-find <span style="color: #A3BE8C;">"chromium-browser"</span>)))

  (<span style="color: #81A1C1;">setq</span> shr-external-browser 'browse-url-generic))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b9d62a" class="outline-3">
<h3 id="org7b9d62a"><span class="section-number-3">5.5</span> <code>calc</code></h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">calc</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'helm-exec
    (helm-exec-register-executable 'calc)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d59f24" class="outline-3">
<h3 id="org2d59f24"><span class="section-number-3">5.6</span> <code>conf-mode</code></h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">conf-mode</span>
  <span style="color: #81A1C1;">:mode</span>
  (<span style="color: #616e88;">;; </span><span style="color: #616e88;">systemd</span>
    (<span style="color: #A3BE8C;">"\\.service\\'"</span>     . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.timer\\'"</span>      . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.target\\'"</span>     . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.mount\\'"</span>      . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.automount\\'"</span>  . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.slice\\'"</span>      . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.socket\\'"</span>     . conf-unix-mode)
    (<span style="color: #A3BE8C;">"\\.path\\'"</span>       . conf-unix-mode)

    <span style="color: #616e88;">;; </span><span style="color: #616e88;">general</span>
    (<span style="color: #A3BE8C;">"conf</span><span style="color: #EBCB8B;">\\</span><span style="color: #EBCB8B;">(</span><span style="color: #A3BE8C;">ig</span><span style="color: #EBCB8B;">\\</span><span style="color: #EBCB8B;">)</span><span style="color: #A3BE8C;">?$"</span>   . conf-mode)
    (<span style="color: #A3BE8C;">"rc$"</span>              . conf-mode)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbfeb6d5" class="outline-3">
<h3 id="orgbfeb6d5"><span class="section-number-3">5.7</span> <code>company</code></h3>
<div class="outline-text-3" id="text-5-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">company</span>
  <span style="color: #81A1C1;">:defines</span> company-backends
  <span style="color: #81A1C1;">:diminish</span> company-mode
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'after-init-hook 'global-company-mode)
  (<span style="color: #81A1C1;">setq</span> company-idle-delay 0.1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2de88a5" class="outline-3">
<h3 id="org2de88a5"><span class="section-number-3">5.8</span> <code>dired</code></h3>
<div class="outline-text-3" id="text-5-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">setq</span> dired-listing-switches <span style="color: #A3BE8C;">"-alh"</span>)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">dired-open</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> dired-open-extensions '((<span style="color: #A3BE8C;">"mp4"</span> . <span style="color: #A3BE8C;">"vlc"</span>)
                                (<span style="color: #A3BE8C;">"avi"</span> . <span style="color: #A3BE8C;">"vlc"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org444a83e" class="outline-3">
<h3 id="org444a83e"><span class="section-number-3">5.9</span> <code>doc-view-mode</code></h3>
<div class="outline-text-3" id="text-5-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">doc-view</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> doc-view-resolution 200))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3dc0d0b" class="outline-3">
<h3 id="org3dc0d0b"><span class="section-number-3">5.10</span> <code>ediff</code></h3>
<div class="outline-text-3" id="text-5-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ediff</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain))
</pre>
</div>
</div>
</div>

<div id="outline-container-org186c91a" class="outline-3">
<h3 id="org186c91a"><span class="section-number-3">5.11</span> <code>exec-path-from-shell</code></h3>
<div class="outline-text-3" id="text-5-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">exec-path-from-shell</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>

<div id="outline-container-org87ba4eb" class="outline-3">
<h3 id="org87ba4eb"><span class="section-number-3">5.12</span> Elfeed</h3>
<div class="outline-text-3" id="text-5-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">elfeed</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:commands</span> elfeed
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #81A1C1;">:map</span> elfeed-search-mode-map
         (<span style="color: #A3BE8C;">"&lt;SPC&gt;"</span> . next-line)
         (<span style="color: #A3BE8C;">"U"</span> . elfeed-unjam)
         <span style="color: #81A1C1;">:map</span> elfeed-show-mode-map
         (<span style="color: #A3BE8C;">"S-&lt;SPC&gt;"</span> . scroll-down-command))

  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'helm-exec
    (helm-exec-register-executable 'elfeed 'elfeed))

  (<span style="color: #81A1C1;">setq</span> elfeed-use-curl t)
  (<span style="color: #81A1C1;">setq</span> elfeed-log-level 'debug)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
    (add-to-list 'evil-emacs-state-modes 'elfeed-search-mode)
    (add-to-list 'evil-emacs-state-modes 'elfeed-show-mode))

  (set-face-attribute 'elfeed-search-feed-face
                      nil
                      <span style="color: #81A1C1;">:foreground</span> (face-attribute 'warning <span style="color: #81A1C1;">:foreground</span>))

  (set-face-attribute 'elfeed-search-tag-face
                      nil
                      <span style="color: #81A1C1;">:foreground</span> (face-attribute 'success <span style="color: #81A1C1;">:foreground</span>))

  (set-face-attribute 'elfeed-search-unread-title-face
                      nil
                      <span style="color: #81A1C1;">:weight</span> 'normal
                      <span style="color: #81A1C1;">:foreground</span> (face-attribute 'default <span style="color: #81A1C1;">:foreground</span>))

  (set-face-attribute 'elfeed-search-title-face
                      nil
                      <span style="color: #81A1C1;">:foreground</span> (face-attribute 'font-lock-comment-face <span style="color: #81A1C1;">:foreground</span>)))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">elfeed-protocol</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:after</span> elfeed
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:host</span> github
             <span style="color: #81A1C1;">:type</span> git
             <span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"fasheng/elfeed-protocol"</span>
             <span style="color: #81A1C1;">:fork</span> (<span style="color: #81A1C1;">:host</span> github <span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"jinnovation/elfeed-protocol"</span> <span style="color: #81A1C1;">:branch</span> <span style="color: #A3BE8C;">"master"</span>))

  <span style="color: #81A1C1;">:if</span> (-all-p 'boundp '(jjin/secret/ttrss-domain
                        jjin/secret/ttrss-username
                        jjin/secret/ttrss-pass))
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> elfeed-feeds
        (list (format <span style="color: #A3BE8C;">"ttrss+http://%s:%s@%s"</span> jjin/secret/ttrss-username jjin/secret/ttrss-pass jjin/secret/ttrss-domain)))

  (<span style="color: #81A1C1;">setq</span> elfeed-protocol-ttrss-categories-as-tags t)

  <span style="color: #81A1C1;">:config</span>
  (elfeed-protocol-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-org44ad9c2" class="outline-3">
<h3 id="org44ad9c2"><span class="section-number-3">5.13</span> Eshell</h3>
<div class="outline-text-3" id="text-5-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #616e88;">;; </span><span style="color: #616e88;">From: https://www.emacswiki.org/emacs/EshellPrompt</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">shortened-path</span> (path max-len)
      <span style="color: #616e88;">"Return a modified version of `</span><span style="color: #81A1C1;">path</span><span style="color: #616e88;">', replacing some components</span>
<span style="color: #616e88;">      with single characters starting from the left to try and get</span>
<span style="color: #616e88;">      the path down to `</span><span style="color: #81A1C1;">max-len</span><span style="color: #616e88;">'"</span>
      (<span style="color: #81A1C1;">let*</span> ((components (split-string (abbreviate-file-name path) <span style="color: #A3BE8C;">"/"</span>))
             (len (+ (1- (length components))
                     (reduce '+ components <span style="color: #81A1C1;">:key</span> 'length)))
             (str <span style="color: #A3BE8C;">""</span>))
        (<span style="color: #81A1C1;">while</span> (<span style="color: #81A1C1;">and</span> (&gt; len max-len)
                    (cdr components))
          (<span style="color: #81A1C1;">setq</span> str (concat str (<span style="color: #81A1C1;">if</span> (= 0 (length (car components)))
                                    <span style="color: #A3BE8C;">"/"</span>
                                  (string (elt (car components) 0) ?/)))
                len (- len (1- (length (car components))))
                components (cdr components)))
        (concat str (reduce (<span style="color: #81A1C1;">lambda</span> (a b) (concat a <span style="color: #A3BE8C;">"/"</span> b)) components))))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">eshell</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> eshell-rc-script (concat user-emacs-directory <span style="color: #A3BE8C;">"eshell/profile"</span>))
  (<span style="color: #81A1C1;">setq</span> eshell-modify-global-environment t)
  (<span style="color: #81A1C1;">setq</span> eshell-banner-message <span style="color: #A3BE8C;">""</span>)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
    (delete 'eshell-mode evil-insert-state-modes)
    (add-to-list 'evil-emacs-state-modes 'eshell-mode))

  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-term-map
             (<span style="color: #A3BE8C;">"e"</span> . eshell))

  (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">eshell/la</span> (<span style="color: #8FBCBB;">&amp;rest</span> args)
    (eshell/ls <span style="color: #A3BE8C;">"--almost-all"</span> <span style="color: #A3BE8C;">"-l"</span> args))

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'magit
    (<span style="color: #81A1C1;">setq</span> eshell-prompt-function
          (<span style="color: #81A1C1;">lambda</span> ()
            (concat
             (propertize <span style="color: #A3BE8C;">"&#9484;&#9472;["</span> 'face 'font-lock-string-face)
             (propertize (user-login-name) 'face 'font-lock-function-name-face)
             (propertize <span style="color: #A3BE8C;">"@"</span> 'face 'font-lock-string-face)
             (<span style="color: #81A1C1;">when-let</span> ((b (magit-get-current-branch)))
               (propertize b 'face `(<span style="color: #81A1C1;">:foreground</span> <span style="color: #A3BE8C;">"yellow"</span>)))
             (<span style="color: #81A1C1;">when</span> (magit-anything-unstaged-p)
               (propertize <span style="color: #A3BE8C;">"*"</span> 'face `(<span style="color: #81A1C1;">:foreground</span> <span style="color: #A3BE8C;">"yellow"</span>)))
             (propertize <span style="color: #A3BE8C;">"]&#9472;&#9472;["</span> 'face 'font-lock-string-face)
             (propertize (format-time-string <span style="color: #A3BE8C;">"%H:%M:%S"</span> (current-time)) 'face 'font-lock-keyword-face)
             (propertize <span style="color: #A3BE8C;">"]&#9472;&#9472;["</span> 'face 'font-lock-string-face)
             (propertize (shortened-path (eshell/pwd) 40) 'face `(<span style="color: #81A1C1;">:foreground</span> <span style="color: #A3BE8C;">"white"</span>))
             (propertize <span style="color: #A3BE8C;">"]\n"</span> 'face 'font-lock-string-face)
             (propertize <span style="color: #A3BE8C;">"&#9492;&#9472;&gt;"</span> 'face 'font-lock-string-face)
             (propertize (<span style="color: #81A1C1;">if</span> (= (user-uid) 0) <span style="color: #A3BE8C;">" #"</span> <span style="color: #A3BE8C;">" $"</span>) 'face 'font-lock-string-face)
             <span style="color: #A3BE8C;">" "</span>
             )))))
</pre>
</div>
</div>

<div id="outline-container-org32ea771" class="outline-4">
<h4 id="org32ea771"><span class="section-number-4">5.13.1</span> Initialization file</h4>
<div class="outline-text-4" id="text-5-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setenv <span style="color: #A3BE8C;">"EDITOR"</span> <span style="color: #A3BE8C;">"emacsclient"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7ce2f71" class="outline-3">
<h3 id="org7ce2f71"><span class="section-number-3">5.14</span> <code>ess</code></h3>
<div class="outline-text-3" id="text-5-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ess-site</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:ensure</span> ess
  <span style="color: #81A1C1;">:commands</span> (inferior-ess-mode ess-help-mode)
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> inferior-R-args <span style="color: #A3BE8C;">"--quiet"</span>)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
      (<span style="color: #81A1C1;">progn</span>
        (add-to-list 'evil-emacs-state-modes 'inferior-ess-mode)
        (add-to-list 'evil-emacs-state-modes 'ess-help-mode)))
  (<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-c C-w"</span> nil inferior-ess-mode-map))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f02ea0" class="outline-3">
<h3 id="org9f02ea0"><span class="section-number-3">5.15</span> Evil (base + extras)</h3>
<div class="outline-text-3" id="text-5-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:defines</span> evil-normal-state-map
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> evil-esc-delay 0)

  <span style="color: #81A1C1;">:config</span>
  (mapc (<span style="color: #81A1C1;">lambda</span> (m) (add-to-list 'evil-emacs-state-modes m t))
    '(eshell-mode
       calendar-mode

       finder-mode
       info-mode

       eww-mode
       eww-bookmark-mode

       dired-mode
       image-mode
       image-dired-thumbnail-mode
       image-dired-display-image-mode

       git-rebase-mode

       help-mode

       sql-interactive-mode
       org-capture-mode))
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: what's the diff between set-initial-state and adding to list directly?</span>
  (evil-set-initial-state 'term-mode 'emacs)

  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> evil-emacs-state-map
    (<span style="color: #A3BE8C;">"&lt;escape&gt;"</span> . evil-execute-in-normal-state))

  (evil-mode 1))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil-numbers</span>
  <span style="color: #81A1C1;">:after</span> evil
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> evil-normal-state-map
             (<span style="color: #A3BE8C;">"C-a"</span>   . evil-numbers/inc-at-pt)
             (<span style="color: #A3BE8C;">"C-c -"</span> . evil-numbers/dec-at-pt)))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil-search-highlight-persist</span>
  <span style="color: #81A1C1;">:after</span> evil
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"C-l"</span> 'evil-search-highlight-persist-remove-all
            evil-normal-state-map)
  (global-evil-search-highlight-persist t)

  (set-face-attribute
   'evil-search-highlight-persist-highlight-face
   nil
   <span style="color: #81A1C1;">:background</span> (face-attribute 'match <span style="color: #81A1C1;">:background</span>)))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil-surround</span>
  <span style="color: #81A1C1;">:after</span> evil
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (global-evil-surround-mode 1))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil-nerd-commenter</span>
  <span style="color: #81A1C1;">:after</span> evil
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-comment-map
             (<span style="color: #A3BE8C;">"i"</span> . evilnc-comment-or-uncomment-lines)
             (<span style="color: #A3BE8C;">"l"</span> . evilnc-quick-comment-or-uncomment-to-the-line)
             (<span style="color: #A3BE8C;">"c"</span> . evilnc-copy-and-comment-lines)
             (<span style="color: #A3BE8C;">"p"</span> . evilnc-comment-or-uncomment-paragraphs)
             (<span style="color: #A3BE8C;">"v"</span> . evilnc-toggle-invert-comment-line-by-line)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6fa121" class="outline-3">
<h3 id="orgf6fa121"><span class="section-number-3">5.16</span> <code>fill-column-indicator</code></h3>
<div class="outline-text-3" id="text-5-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">fill-column-indicator</span>
  <span style="color: #81A1C1;">:commands</span> turn-on-fci-mode
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:init</span>
  (add-hook 'prog-mode-hook 'turn-on-fci-mode)
  (add-hook 'text-mode-hook 'turn-on-fci-mode)
  (<span style="color: #81A1C1;">setq</span> fci-rule-color (face-attribute 'highlight <span style="color: #81A1C1;">:background</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6067f41" class="outline-3">
<h3 id="org6067f41"><span class="section-number-3">5.17</span> <code>flycheck</code></h3>
<div class="outline-text-3" id="text-5-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">flycheck</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:defines</span> flycheck-mode-hook
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'after-init-hook #'global-flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac2c73c" class="outline-3">
<h3 id="orgac2c73c"><span class="section-number-3">5.18</span> Git</h3>
<div class="outline-text-3" id="text-5-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-vc-map
           (<span style="color: #A3BE8C;">"g"</span> . vc-git-grep))

(<span style="color: #81A1C1;">setq</span> vc-handled-backends nil)
</pre>
</div>
</div>

<div id="outline-container-orgc25de86" class="outline-4">
<h4 id="orgc25de86"><span class="section-number-4">5.18.1</span> <code>git-commit-mode</code></h4>
<div class="outline-text-4" id="text-5-18-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">git-commit-mode</span>
  <span style="color: #81A1C1;">:commands</span> git-commit-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e16011" class="outline-4">
<h4 id="org5e16011"><span class="section-number-4">5.18.2</span> <code>gitconfig-mode</code></h4>
<div class="outline-text-4" id="text-5-18-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">gitconfig-mode</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:mode</span> <span style="color: #A3BE8C;">"gitconfig"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org57f1c6c" class="outline-4">
<h4 id="org57f1c6c"><span class="section-number-4">5.18.3</span> <code>gitignore-mode</code></h4>
<div class="outline-text-4" id="text-5-18-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">gitignore-mode</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:mode</span> <span style="color: #A3BE8C;">"gitignore"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f4405c" class="outline-4">
<h4 id="org7f4405c"><span class="section-number-4">5.18.4</span> Magit</h4>
<div class="outline-text-4" id="text-5-18-4">
<p>
Merge commits can sometimes be massive &#x2013; particularly in monorepo
environments. Since showing the diff during commit in such scenarios is of
questionable utility, we suppress its behavior with the following advice.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/do-if-merge-not-in-progress</span> (oldfun)
  <span style="color: #616e88;">"Displays the diff during commit only in cases where a merge is</span>
<span style="color: #616e88;">  not in progress."</span>
  (<span style="color: #81A1C1;">when</span> (not (magit-merge-in-progress-p)) (funcall oldfun)))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/magit-fetch-from-origin-master</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (magit-git-fetch <span style="color: #A3BE8C;">"origin"</span> <span style="color: #A3BE8C;">"master"</span>))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/magit-checkout-previous-branch</span> ()
  (<span style="color: #81A1C1;">interactive</span>)
  (<span style="color: #81A1C1;">if-let</span> ((p (magit-get-previous-branch)))
      (magit-checkout p)
    (<span style="color: #EBCB8B;">error</span> <span style="color: #A3BE8C;">"No previous branch"</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: Magit has migrated to using transient, so all commented sections will</span>
<span style="color: #616e88;">;; </span><span style="color: #616e88;">eventually need to be updated or removed.</span>

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">magit</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>

  (add-to-list
   'safe-local-variable-values
   '(magit-status-headers-hook . (list
                                  magit-insert-error-header
                                  magit-insert-diff-filter-header
                                  magit-insert-head-branch-header
                                  magit-insert-upstream-branch-header
                                  magit-insert-push-branch-header)))

  (<span style="color: #81A1C1;">setq</span> magit-popup-show-common-commands nil)
  (<span style="color: #81A1C1;">setq</span> magit-log-arguments '(<span style="color: #A3BE8C;">"--graph"</span>
                              <span style="color: #A3BE8C;">"--decorate"</span>
                              <span style="color: #A3BE8C;">"--color"</span>))

  (<span style="color: #81A1C1;">setq</span> magit-display-buffer-function 'magit-display-buffer-same-window-except-diff-v1)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-vc-map
             (<span style="color: #A3BE8C;">"!"</span> . magit-git-command-topdir)
             (<span style="color: #A3BE8C;">"C"</span> . magit-branch-and-checkout)
             (<span style="color: #A3BE8C;">"F"</span> . magit-pull-popup)
             (<span style="color: #A3BE8C;">"P"</span> . magit-push-popup)
             (<span style="color: #A3BE8C;">"b"</span> . magit-blame-popup)
             (<span style="color: #A3BE8C;">"c"</span> . magit-checkout)
             (<span style="color: #A3BE8C;">"d"</span> . magit-diff-popup)
             (<span style="color: #A3BE8C;">"f"</span> . magit-fetch-popup)
             (<span style="color: #A3BE8C;">"l"</span> . magit-log-popup)
             (<span style="color: #A3BE8C;">"m"</span> . magit-merge-popup)
             (<span style="color: #A3BE8C;">"v"</span> . magit-status)
             (<span style="color: #A3BE8C;">"z"</span> . magit-stash-popup))

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'git-rebase
    (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> git-rebase-mode-map (<span style="color: #A3BE8C;">"u"</span> . git-rebase-undo)))

  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> magit-mode-map
             (<span style="color: #A3BE8C;">"X"</span> . magit-reset-hard))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">removes 1.4.0 warning in arguably cleaner way</span>
  (remove-hook 'after-init-hook 'magit-maybe-show-setup-instructions)

  (<span style="color: #81A1C1;">defadvice</span> <span style="color: #88C0D0;">magit-blame-mode</span> (after switch-to-emacs-state activate)
    (<span style="color: #81A1C1;">if</span> magit-blame-mode
        (evil-emacs-state 1)
      (evil-normal-state 1)))

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
    (add-to-list 'evil-emacs-state-modes 'magit-popup-mode))

  (add-hook 'magit-revision-mode-hook 'goto-address-mode)

  (magit-define-popup-option 'magit-commit-popup ?M <span style="color: #A3BE8C;">"Attach message"</span> <span style="color: #A3BE8C;">"--message="</span>)

  (magit-define-popup-action 'magit-diff-popup ?U
    <span style="color: #A3BE8C;">"Diff upstream"</span>
    (<span style="color: #81A1C1;">lambda</span> (<span style="color: #8FBCBB;">&amp;optional</span> args files)
      (<span style="color: #81A1C1;">interactive</span> (magit-diff-arguments))
      (magit-diff  <span style="color: #A3BE8C;">"@{u}..HEAD"</span> args)))


  (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/magit-find-file-from-upstream</span> (file)
    <span style="color: #616e88;">"Same behavior as `</span><span style="color: #81A1C1;">magit-find-file</span><span style="color: #616e88;">', but specifically for the</span>
<span style="color: #616e88;">upstream branch."</span>
    (<span style="color: #81A1C1;">interactive</span>
     (list (magit-read-file-from-rev (magit-get-upstream-branch) <span style="color: #A3BE8C;">"Find file"</span>)))
    (magit-find-file (magit-get-upstream-branch) file))

  (plist-put magit-merge-popup <span style="color: #81A1C1;">:actions</span> (cons <span style="color: #A3BE8C;">"Actions"</span> (plist-get magit-merge-popup <span style="color: #81A1C1;">:actions</span>)))
  (plist-put magit-merge-popup
             <span style="color: #81A1C1;">:actions</span>
             (cons '(?U <span style="color: #A3BE8C;">"Upstream"</span> (<span style="color: #81A1C1;">lambda</span> (ignored <span style="color: #8FBCBB;">&amp;optional</span> args)
                                     (<span style="color: #81A1C1;">interactive</span> (magit-diff-arguments))
                                     (magit-merge <span style="color: #A3BE8C;">"@{u}"</span> args)))
                   (plist-get magit-merge-popup <span style="color: #81A1C1;">:actions</span>)))
  (plist-put
   magit-merge-popup
   <span style="color: #81A1C1;">:actions</span>
   (cons
    (<span style="color: #81A1C1;">lambda</span> ()
      (concat (propertize <span style="color: #A3BE8C;">"Merge into "</span> 'face 'magit-popup-heading)
              (propertize (<span style="color: #81A1C1;">or</span> (magit-get-current-branch) <span style="color: #A3BE8C;">"HEAD"</span>) 'face 'magit-branch-local)
              (propertize <span style="color: #A3BE8C;">" from"</span> 'face 'magit-popup-heading)))
    (plist-get magit-merge-popup <span style="color: #81A1C1;">:actions</span>)))

  (magit-define-popup-action 'magit-fetch-popup
    ?U <span style="color: #A3BE8C;">"from origin/master"</span> 'jjin/magit-fetch-from-origin-master)

  (magit-define-popup-action 'magit-branch-popup
    ?P
    (<span style="color: #81A1C1;">lambda</span> ()
      (<span style="color: #81A1C1;">if-let</span> ((p (magit-get-previous-branch)))
          <span style="color: #A3BE8C;">"Checkout previous branch"</span>
        <span style="color: #A3BE8C;">"No previous branch"</span>))
    'jjin/magit-checkout-previous-branch))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">(advice-add 'magit-commit-diff</span>
  <span style="color: #616e88;">;;             </span><span style="color: #616e88;">:before-until</span>
  <span style="color: #616e88;">;;             </span><span style="color: #616e88;">'magit-merge-in-progress-p))</span>

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">magit-arcanist</span>
  <span style="color: #81A1C1;">:after</span> magit
  <span style="color: #81A1C1;">:straight</span> (<span style="color: #81A1C1;">:repo</span> <span style="color: #A3BE8C;">"git@github.com:jinnovation/magit-arcanist.git"</span>)
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> magit-arcanist-key (kbd <span style="color: #A3BE8C;">"@"</span>))
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #81A1C1;">:map</span> jjin-vc-map
         (<span style="color: #A3BE8C;">"a"</span> . magit-arcanist-popup))
  <span style="color: #81A1C1;">:config</span>
  (magit-arcanist-enable))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2062ab3" class="outline-3">
<h3 id="org2062ab3"><span class="section-number-3">5.19</span> <code>helm</code></h3>
<div class="outline-text-3" id="text-5-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">helm</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:demand</span> t
  <span style="color: #81A1C1;">:diminish</span> helm-mode
  <span style="color: #81A1C1;">:bind</span> ((<span style="color: #A3BE8C;">"C-x m"</span>    . helm-M-x)
          (<span style="color: #A3BE8C;">"C-x C-f"</span> . helm-find-files)
          (<span style="color: #A3BE8C;">"C-x b"</span>   . helm-buffers-list))
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> helm-external-programs-associations `((<span style="color: #A3BE8C;">"pdf"</span> . ,(<span style="color: #81A1C1;">if</span> (eq system-type 'darwin) <span style="color: #A3BE8C;">"open"</span> <span style="color: #A3BE8C;">"zathura"</span>))))
  (<span style="color: #81A1C1;">setq</span> helm-split-window-inside-p t)

  (<span style="color: #81A1C1;">setq</span> helm-mode-fuzzy-match t)

  <span style="color: #81A1C1;">:config</span>
  (helm-mode 1)
  (helm-autoresize-mode t)

  (<span style="color: #81A1C1;">defvar</span> <span style="color: #D8DEE9;">helm-source-file-not-found</span>
    (<span style="color: #81A1C1;">helm-build-dummy-source</span>
        <span style="color: #A3BE8C;">"Create file"</span>
      <span style="color: #81A1C1;">:action</span>
      (<span style="color: #81A1C1;">lambda</span> (c) (find-file c))))

  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-vc-map
             (<span style="color: #A3BE8C;">"g"</span> . helm-grep-do-git-grep))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">(bind-key "C-c C-j" 'helm-org-in-buffer-headings org-mode-map)</span>

  )

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">helm-make</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:commands</span> helm-make-projectile
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> helm-make-cache-targets t)
  (<span style="color: #81A1C1;">setq</span> helm-make-list-target-method 'qp))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">helm-projectile</span>
  <span style="color: #81A1C1;">:after</span> projectile
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #81A1C1;">:map</span> projectile-command-map
             (<span style="color: #A3BE8C;">"p"</span>   . helm-projectile)
             (<span style="color: #A3BE8C;">"a"</span>   . helm-projectile-find-other-file)
             (<span style="color: #A3BE8C;">"f"</span>   . helm-projectile-find-file)
             (<span style="color: #A3BE8C;">"F"</span>   . helm-projectile-find-file-in-known-projects)
             (<span style="color: #A3BE8C;">"s s"</span> . helm-projectile-ag)
             (<span style="color: #A3BE8C;">"s g"</span> . helm-projectile-grep))
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (add-to-list 'helm-projectile-sources-list helm-source-file-not-found t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabb670a" class="outline-3">
<h3 id="orgabb670a"><span class="section-number-3">5.20</span> <code>linum</code></h3>
<div class="outline-text-3" id="text-5-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">linum</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">setq</span> linum-format 'dynamic)
  (global-linum-mode 1)

  (<span style="color: #81A1C1;">defconst</span> <span style="color: #D8DEE9;">linum-mode-whitelist</span>
    '(prog-mode))

  (<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">mode-local</span>)

  (<span style="color: #81A1C1;">defadvice</span> <span style="color: #88C0D0;">linum-mode</span> (around linum-mode-selective activate)
    <span style="color: #616e88;">"Avoids enabling of linum-mode in the buffer having major mode set to one</span>
<span style="color: #616e88;">of listed in `</span><span style="color: #81A1C1;">linum-mode-excludes</span><span style="color: #616e88;">'."</span>
    (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">or</span> (member major-mode linum-mode-whitelist)
            (member (get-mode-local-parent major-mode) linum-mode-whitelist))
      ad-do-it)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org060a9a2" class="outline-3">
<h3 id="org060a9a2"><span class="section-number-3">5.21</span> <code>multi-term</code></h3>
<div class="outline-text-3" id="text-5-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">multi-term</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> jjin-term-map
             (<span style="color: #A3BE8C;">"t"</span> . multi-term)
             (<span style="color: #A3BE8C;">"n"</span> . multi-term-next)
             (<span style="color: #A3BE8C;">"p"</span> . multi-term-prev)
             (<span style="color: #A3BE8C;">"d"</span> . multi-term-dedicated-toggle))

  (<span style="color: #81A1C1;">setq</span> term-bind-key-alist
        '((<span style="color: #A3BE8C;">"C-c C-k"</span> . term-line-mode)
          (<span style="color: #A3BE8C;">"M-]"</span> . multi-term-next)
          (<span style="color: #A3BE8C;">"M-["</span> . multi-term-prev)
          (<span style="color: #A3BE8C;">"C-c C-c"</span> . term-interrupt-subjob)
          (<span style="color: #A3BE8C;">"C-c C-e"</span> . term-send-esc)
          (<span style="color: #A3BE8C;">"C-m"</span> . term-send-return)
          (<span style="color: #A3BE8C;">"C-y"</span> . term-paste)
          (<span style="color: #A3BE8C;">"M-f"</span> . term-send-forward-word)
          (<span style="color: #A3BE8C;">"M-b"</span> . term-send-backward-word)
          (<span style="color: #A3BE8C;">"M-o"</span> . term-send-backspace)
          (<span style="color: #A3BE8C;">"M-p"</span> . term-send-up)
          (<span style="color: #A3BE8C;">"M-n"</span> . term-send-down)
          (<span style="color: #A3BE8C;">"M-M"</span> . term-send-forward-kill-word)
          (<span style="color: #A3BE8C;">"M-N"</span> . term-send-backward-kill-word)
          (<span style="color: #A3BE8C;">"&lt;M-backspace&gt;"</span> . term-send-backward-kill-word)
          (<span style="color: #A3BE8C;">"M-r"</span> . term-send-reverse-search-history)
          (<span style="color: #A3BE8C;">"M-,"</span> . term-send-raw)
          (<span style="color: #A3BE8C;">"M-."</span> . comint-dynamic-complete))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1783e7" class="outline-3">
<h3 id="orge1783e7"><span class="section-number-3">5.22</span> <code>mu4e</code></h3>
<div class="outline-text-3" id="text-5-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">mu4e</span>
  <span style="color: #81A1C1;">:ensure-system-package</span>
  ((mu . mu)
   (offlineimap . offlineimap)
   (w3m . w3m))
  <span style="color: #81A1C1;">:commands</span> (mu4e mu4e-update-mail-and-index)
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">defhydra</span> jjin-hydra-mu4e (<span style="color: #81A1C1;">:exit</span> t)
    <span style="color: #616e88;">"Auxiliary commands for mu4e"</span>
    (<span style="color: #A3BE8C;">"m"</span> mu4e-update-mail-and-index <span style="color: #A3BE8C;">"update"</span>))

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'helm-exec
    (helm-exec-register-executable 'mu4e
                                   <span style="color: #81A1C1;">:alt</span> 'jjin-hydra-mu4e/body))

  (<span style="color: #81A1C1;">setq</span> mu4e-context-policy 'pick-first)
  (<span style="color: #81A1C1;">setq</span> mu4e-headers-include-related nil)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">when</span> (eq system-type 'darwin)
    (<span style="color: #81A1C1;">setq</span> mu4e-mu-binary <span style="color: #A3BE8C;">"/usr/local/bin/mu"</span>))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">make sure the gnutls command line utils are installed</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">(require 'smtpmail)</span>

  (<span style="color: #81A1C1;">setq</span>
   message-send-mail-function 'smtpmail-send-it
   smtpmail-stream-type 'starttls
   smtpmail-default-smtp-server <span style="color: #A3BE8C;">"smtp.gmail.com"</span>
   smtpmail-smtp-server <span style="color: #A3BE8C;">"smtp.gmail.com"</span>
   smtpmail-smtp-service 587)

  (<span style="color: #81A1C1;">setq</span>
   mu4e-maildir <span style="color: #A3BE8C;">"~/mail"</span>

   mu4e-drafts-folder <span style="color: #A3BE8C;">"/personal/drafts"</span>
   mu4e-sent-folder   <span style="color: #A3BE8C;">"/personal/sent"</span>)

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">don't save message to Sent Messages, Gmail/IMAP takes care of this</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">(See the documentation for `</span><span style="color: #81A1C1;">mu4e-sent-messages-behavior</span><span style="color: #616e88;">' if you have</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">additional non-Gmail addresses and want assign them different</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">behavior.)</span>
  (<span style="color: #81A1C1;">setq</span> mu4e-sent-messages-behavior 'delete)

  (<span style="color: #81A1C1;">setq</span> mu4e-maildir-shortcuts
        '((<span style="color: #A3BE8C;">"/personal/INBOX"</span>   . ?i)
          (<span style="color: #A3BE8C;">"/personal/sent"</span>    . ?s)
          (<span style="color: #A3BE8C;">"/personal/drafts"</span>  . ?d)
          (<span style="color: #A3BE8C;">"/personal/archive"</span> . ?a)
          (<span style="color: #A3BE8C;">"/work/INBOX"</span> . ?I)
          (<span style="color: #A3BE8C;">"/work/sent"</span> . ?S)
          (<span style="color: #A3BE8C;">"/work/drafts"</span> . ?D)
          (<span style="color: #A3BE8C;">"/work/archive"</span> . ?A)))

  (<span style="color: #81A1C1;">setq</span> mu4e-get-mail-command
        (<span style="color: #81A1C1;">if</span> (not (executable-find <span style="color: #A3BE8C;">"offlineimap"</span>))
            <span style="color: #A3BE8C;">"true"</span> 
          <span style="color: #A3BE8C;">"offlineimap"</span>))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">don't keep message buffers around</span>
  (<span style="color: #81A1C1;">setq</span> message-kill-buffer-on-exit t)

  (<span style="color: #81A1C1;">setq</span>
   <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: if w3m not installed:</span>
   <span style="color: #616e88;">;; </span><span style="color: #616e88;">- log it</span>
   <span style="color: #616e88;">;; </span><span style="color: #616e88;">- leave as default</span>
   mu4e-html-renderer 'w3m
   mu4e-html2text-command <span style="color: #A3BE8C;">"w3m -dump -T text/html"</span>)

  (add-hook 'mu4e-view-mode-hook 'visual-line-mode)

  (<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">gnus-dired</span>
    <span style="color: #81A1C1;">:config</span>
    <span style="color: #616e88;">;; </span><span style="color: #616e88;">make the `</span><span style="color: #81A1C1;">gnus-dired-mail-buffers</span><span style="color: #616e88;">' function also work on message-mode derived</span>
    <span style="color: #616e88;">;; </span><span style="color: #616e88;">modes, such as mu4e-compose-mode</span>
    (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">gnus-dired-mail-buffers</span> ()
      (<span style="color: #81A1C1;">let</span> (buffers)
        (<span style="color: #81A1C1;">save-current-buffer</span>
          (<span style="color: #81A1C1;">dolist</span> (buffer (buffer-list t))
            (set-buffer buffer)
            (<span style="color: #81A1C1;">when</span> (<span style="color: #81A1C1;">and</span> (derived-mode-p 'message-mode)
                       (null message-sent-message-via))
              (<span style="color: #81A1C1;">push</span> (buffer-name buffer) buffers))))
        (nreverse buffers)))

    (<span style="color: #81A1C1;">setq</span> gnus-dired-mail-mode 'mu4e-user-agent)
    (add-hook 'dired-mode-hook 'turn-on-gnus-dired-mode))

  (set-face-attribute 'mu4e-header-highlight-face nil <span style="color: #81A1C1;">:underline</span> nil)

  (<span style="color: #81A1C1;">setq</span> mu4e-compose-signature-auto-include nil)

  (<span style="color: #81A1C1;">setq</span> mail-user-agent 'mu4e-user-agent)

  (add-to-list 'mu4e-view-actions
               '(<span style="color: #A3BE8C;">"View in browser"</span> . mu4e-action-view-in-browser)
               t)
  (add-to-list 'mu4e-view-actions
               '(<span style="color: #A3BE8C;">"Capture message"</span> . mu4e-action-capture-message)
               t)

  (<span style="color: #81A1C1;">setq</span> mu4e-update-interval nil)
  (<span style="color: #81A1C1;">setq</span> mu4e-headers-skip-duplicates t)
  (<span style="color: #81A1C1;">setq</span> mu4e-view-show-images t)

  (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">mu4e-message-maildir-matches</span> (msg rx)
    (<span style="color: #81A1C1;">when</span> rx
      (<span style="color: #81A1C1;">if</span> (listp rx)
          <span style="color: #616e88;">;; </span><span style="color: #616e88;">if rx is a list, try each one for a match</span>
          (<span style="color: #81A1C1;">or</span> (mu4e-message-maildir-matches msg (car rx))
              (mu4e-message-maildir-matches msg (cdr rx)))
        <span style="color: #616e88;">;; </span><span style="color: #616e88;">not a list, check rx</span>
        (string-match rx (mu4e-message-field msg <span style="color: #81A1C1;">:maildir</span>)))))

  (<span style="color: #81A1C1;">setq</span> mu4e-contexts
        `(,(make-mu4e-context
            <span style="color: #81A1C1;">:name</span> <span style="color: #A3BE8C;">"personal"</span>
            <span style="color: #81A1C1;">:match-func</span>
            (<span style="color: #81A1C1;">lambda</span> (msg)
              (<span style="color: #81A1C1;">when</span> msg
                (<span style="color: #81A1C1;">or</span>
                 (mu4e-message-maildir-matches msg <span style="color: #A3BE8C;">"^/personal"</span>)
                 (mu4e-message-contact-field-matches msg <span style="color: #81A1C1;">:to</span> <span style="color: #A3BE8C;">"jjin082693@gmail.com"</span>))))
            <span style="color: #81A1C1;">:vars</span> `((user-mail-address . <span style="color: #A3BE8C;">"jjin082693@gmail.com"</span>)
                    (mu4e-compose-signature
                     . ,(concat <span style="color: #A3BE8C;">"Jonathan Jin\n"</span>
                                <span style="color: #A3BE8C;">"Machine Learning Software Engineer, Twitter Cortex\n"</span>
                                <span style="color: #A3BE8C;">"jjin.info"</span>))
                    (smtpmail-smtp-user . <span style="color: #A3BE8C;">"jjin082693@gmail.com"</span>)
                    (user-full-name . <span style="color: #A3BE8C;">"Jonathan Jin"</span>)
                    (mu4e-trash-folder . <span style="color: #A3BE8C;">"/personal/trash"</span>)
                    (mu4e-drafts-folder . <span style="color: #A3BE8C;">"/personal/drafts"</span>)
                    (mu4e-refile-folder . <span style="color: #A3BE8C;">"/personal/archive"</span>)))

             ,(make-mu4e-context
               <span style="color: #81A1C1;">:name</span> <span style="color: #A3BE8C;">"work"</span>
               <span style="color: #81A1C1;">:match-func</span>
               (<span style="color: #81A1C1;">lambda</span> (msg)
                 (<span style="color: #81A1C1;">when</span> msg
                   (<span style="color: #81A1C1;">or</span>
                    (mu4e-message-maildir-matches msg <span style="color: #A3BE8C;">"^/work"</span>)
                    (mu4e-message-contact-field-matches msg <span style="color: #81A1C1;">:to</span> <span style="color: #A3BE8C;">"jonathanj@twitter.com"</span>))))
               <span style="color: #81A1C1;">:vars</span> `((user-mail-address . <span style="color: #A3BE8C;">"jonathanj@twitter.com"</span>)
                       (mu4e-compose-signature
                        . ,(concat <span style="color: #A3BE8C;">"Jonathan Jin\n"</span>
                                   <span style="color: #A3BE8C;">"Software Engineer, ML Platform Tools, Cortex"</span>))
                       (smtpmail-smtp-user . <span style="color: #A3BE8C;">"jonathanj@twitter.com"</span>)
                       (user-full-name . <span style="color: #A3BE8C;">"Jonathan Jin"</span>)
                       (mu4e-trash-folder . <span style="color: #A3BE8C;">"/work/trash"</span>)
                       (mu4e-drafts-folder . <span style="color: #A3BE8C;">"/work/drafts"</span>)
                       (mu4e-refile-folder . <span style="color: #A3BE8C;">"/work/archive"</span>)))))

  (<span style="color: #81A1C1;">setq</span> mu4e-compose-context-policy 'ask)

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">Sets `</span><span style="color: #81A1C1;">mu4e-user-mail-address-list</span><span style="color: #616e88;">' to the concatenation of all</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">`</span><span style="color: #81A1C1;">user-mail-address</span><span style="color: #616e88;">' values for all contexts. If you have other mail</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">addresses as well, you'll need to add those manually.</span>
  (<span style="color: #81A1C1;">setq</span> mu4e-user-mail-address-list
        (delq nil
              (mapcar (<span style="color: #81A1C1;">lambda</span> (context)
                        (<span style="color: #81A1C1;">when</span> (mu4e-context-vars context)
                          (cdr (assq 'user-mail-address (mu4e-context-vars context)))))
                      mu4e-contexts)))

  (<span style="color: #81A1C1;">setq</span> mu4e-view-show-addresses t)

  (add-to-list 'mu4e-bookmarks
               '(<span style="color: #A3BE8C;">"(maildir:\"/personal/INBOX\" OR maildir:\"/work/INBOX\") flag:unread"</span>
                 <span style="color: #A3BE8C;">"Unread INBOXes"</span>
                 ?U)
               t)

  (add-hook 'mu4e-view-mode-hook 'mu4e-view-fill-long-lines))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge70e1bc" class="outline-3">
<h3 id="orge70e1bc"><span class="section-number-3">5.23</span> <code>org-mode</code></h3>
<div class="outline-text-3" id="text-5-23">
<p>
The following is a temporary hack until straight.el supports building Org,
see:
</p>

<ul class="org-ul">
<li><a href="https://github.com/raxod502/straight.el/issues/211">https://github.com/raxod502/straight.el/issues/211</a></li>
<li><a href="https://github.com/raxod502/radian/issues/410">https://github.com/raxod502/radian/issues/410</a></li>
</ul>

<p>
There are three things missing from our version of Org: the functions
<code>org-git-version</code> and <code>org-release</code>, and the feature <code>org-version</code>. We
provide all three of those ourself, therefore.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">subr-x</span>)
(straight-use-package 'git)

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">org-git-version</span> ()
  <span style="color: #616e88;">"The Git version of org-mode.</span>
<span style="color: #616e88;">Inserted by installing org-mode or when a release is made."</span>
  (<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">git</span>)
  (<span style="color: #81A1C1;">let</span> ((git-repo (expand-file-name
                   <span style="color: #A3BE8C;">"straight/repos/org/"</span> user-emacs-directory)))
    (string-trim
     (git-run <span style="color: #A3BE8C;">"describe"</span>
              <span style="color: #A3BE8C;">"--match=release</span><span style="color: #EBCB8B;">\</span><span style="color: #A3BE8C;">*"</span>
              <span style="color: #A3BE8C;">"--abbrev=6"</span>
              <span style="color: #A3BE8C;">"HEAD"</span>))))

(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">org-release</span> ()
  <span style="color: #616e88;">"The release version of org-mode.</span>
<span style="color: #616e88;">Inserted by installing org-mode or when a release is made."</span>
  (<span style="color: #81A1C1;">require</span> '<span style="color: #81A1C1;">git</span>)
  (<span style="color: #81A1C1;">let</span> ((git-repo (expand-file-name
                   <span style="color: #A3BE8C;">"straight/repos/org/"</span> user-emacs-directory)))
    (string-trim
     (string-remove-prefix
      <span style="color: #A3BE8C;">"release_"</span>
      (git-run <span style="color: #A3BE8C;">"describe"</span>
               <span style="color: #A3BE8C;">"--match=release</span><span style="color: #EBCB8B;">\</span><span style="color: #A3BE8C;">*"</span>
               <span style="color: #A3BE8C;">"--abbrev=0"</span>
               <span style="color: #A3BE8C;">"HEAD"</span>)))))

(<span style="color: #81A1C1;">provide</span> '<span style="color: #81A1C1;">org-version</span>)
</pre>
</div>

<p>
The following is the <b>actual</b> configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">org</span>
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #81A1C1;">:map</span> org-mode-map
         (<span style="color: #A3BE8C;">"RET"</span> . org-return-indent)
         (<span style="color: #A3BE8C;">"M-p"</span> . outline-previous-visible-heading)
         (<span style="color: #A3BE8C;">"M-n"</span> . outline-next-visible-heading)
         (<span style="color: #A3BE8C;">"s-t"</span> . org-todo))
  <span style="color: #81A1C1;">:straight</span> org-plus-contrib
  <span style="color: #81A1C1;">:mode</span> (<span style="color: #A3BE8C;">"\\.org$"</span> . org-mode)
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> org-special-ctrl-a/e t)
  (<span style="color: #81A1C1;">setq</span> org-return-follows-link t)

  (<span style="color: #81A1C1;">setq</span> org-export-dispatch-use-expert-ui t)

  (<span style="color: #81A1C1;">setq</span> org-latex-create-formula-image-program 'imagemagick)
  (<span style="color: #81A1C1;">setq</span> org-latex-listings 'minted)
  (<span style="color: #81A1C1;">setq</span> org-tags-column -80)

  (<span style="color: #81A1C1;">setq</span> org-enforce-todo-dependencies t)
  (<span style="color: #81A1C1;">setq</span> org-enforce-todo-checkbox-dependencies  t)

  (<span style="color: #81A1C1;">setq</span> org-pretty-entities t)
  (<span style="color: #81A1C1;">setq</span> org-src-fontify-natively t)
  (<span style="color: #81A1C1;">setq</span> org-list-allow-alphabetical t)

  (<span style="color: #81A1C1;">setq</span> org-deadline-warning-days 7)

  (<span style="color: #81A1C1;">setq</span> org-agenda-custom-commands
        '((<span style="color: #A3BE8C;">"s"</span> <span style="color: #A3BE8C;">"Schoolwork"</span>
           ((agenda <span style="color: #A3BE8C;">""</span> ((org-agenda-ndays 14)
                        (org-agenda-start-on-weekday nil)
                        (org-agenda-prefix-format <span style="color: #A3BE8C;">" %-12:c%?-12t% s"</span>)))
            (tags-todo <span style="color: #A3BE8C;">"CATEGORY=\"Schoolwork\""</span>
                       ((org-agenda-prefix-format <span style="color: #A3BE8C;">"%b"</span>)))))

          (<span style="color: #A3BE8C;">"r"</span> <span style="color: #A3BE8C;">"Reading"</span>
           ((tags-todo <span style="color: #A3BE8C;">"CATEGORY=\"Reading\""</span>
                       ((org-agenda-prefix-format <span style="color: #A3BE8C;">"%:T "</span>)))))
          (<span style="color: #A3BE8C;">"m"</span> <span style="color: #A3BE8C;">"Movies"</span>
           ((tags-todo <span style="color: #A3BE8C;">"CATEGORY=\"Movies\""</span>
                       ((org-agenda-prefix-format <span style="color: #A3BE8C;">"%:T "</span>)))))))
    (<span style="color: #81A1C1;">setq</span>
     org-latex-pdf-process (list <span style="color: #A3BE8C;">"latexmk -shell-escape -pdf %f"</span>)

    org-entities-user
    '((<span style="color: #A3BE8C;">"supsetneqq"</span> <span style="color: #A3BE8C;">"\\supsetneqq"</span> t <span style="color: #A3BE8C;">""</span> <span style="color: #A3BE8C;">"[superset of above not equal to]"</span>
       <span style="color: #A3BE8C;">"[superset of above not equal to]"</span> <span style="color: #A3BE8C;">"&#10956;"</span>)
      (<span style="color: #A3BE8C;">"subseteq"</span> <span style="color: #A3BE8C;">"\\subseteq"</span> t <span style="color: #A3BE8C;">""</span> <span style="color: #A3BE8C;">"[subset of above equal to]"</span> <span style="color: #A3BE8C;">"subset of above equal to"</span> <span style="color: #A3BE8C;">"&#8838;"</span>)
       (<span style="color: #A3BE8C;">"subsetneqq"</span> <span style="color: #A3BE8C;">"\\subsetneqq"</span> t <span style="color: #A3BE8C;">""</span> <span style="color: #A3BE8C;">"[suberset of above not equal to]"</span>
         <span style="color: #A3BE8C;">"[suberset of above not equal to]"</span> <span style="color: #A3BE8C;">"&#10955;"</span>)))

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">setq</span> org-agenda-files '(<span style="color: #A3BE8C;">"~/agenda/"</span>))
  (plist-put org-format-latex-options <span style="color: #81A1C1;">:scale</span> 1.5)

  (<span style="color: #81A1C1;">setq</span> org-latex-packages-alist
    '((<span style="color: #A3BE8C;">""</span> <span style="color: #A3BE8C;">"minted"</span>) (<span style="color: #A3BE8C;">"usenames,dvipsnames,svgnames"</span> <span style="color: #A3BE8C;">"xcolor"</span>)))

  (<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">my-org-autodone</span> (n-done n-not-done)
    <span style="color: #616e88;">"Switch entry to DONE when all subentries are done, to TODO otherwise."</span>
    (<span style="color: #81A1C1;">let</span> (org-log-done org-log-states)   <span style="color: #616e88;">; </span><span style="color: #616e88;">turn off logging</span>
      (org-todo (<span style="color: #81A1C1;">if</span> (= n-not-done 0) <span style="color: #A3BE8C;">"DONE"</span> <span style="color: #A3BE8C;">"TODO"</span>))))

  (add-hook 'org-after-todo-statistics-hook 'my-org-autodone)

  (org-babel-do-load-languages
    'org-babel-load-languages
    '((emacs-lisp . t)
       (latex     . t)
       (python    . t)
       <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: Make this contingent on ob-ipython</span>
       <span style="color: #616e88;">;; </span><span style="color: #616e88;">(ipython   . t)</span>
       (R         . t)
       (octave    . t)
       (matlab    . t)
       (shell     . t)))

  (<span style="color: #81A1C1;">setq</span> org-confirm-babel-evaluate nil)
  (<span style="color: #81A1C1;">setq</span> org-export-use-babel t)

  (<span style="color: #81A1C1;">setq</span> org-latex-minted-options
    '((<span style="color: #A3BE8C;">"linenos"</span> <span style="color: #A3BE8C;">"true"</span>)
       (<span style="color: #A3BE8C;">"fontsize"</span> <span style="color: #A3BE8C;">"\\scriptsize"</span>)
       (<span style="color: #A3BE8C;">"frame"</span> <span style="color: #A3BE8C;">"lines"</span>)))

  (<span style="color: #81A1C1;">setq</span> org-export-latex-hyperref-format <span style="color: #A3BE8C;">"\\ref{%s}"</span>)

  (<span style="color: #81A1C1;">setq</span>
    org-src-window-setup 'current-window
    org-agenda-window-setup 'current-window)

  (<span style="color: #81A1C1;">setq</span> org-blank-before-new-entry
    '((heading . true)
       (plain-list-item . auto)))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">FIXME: parameter-ize dir `</span><span style="color: #81A1C1;">agenda</span><span style="color: #616e88;">'</span>
  (<span style="color: #81A1C1;">setq</span> org-default-notes-file <span style="color: #A3BE8C;">"~/agenda/notes.org"</span>)

  (<span style="color: #81A1C1;">setq</span> org-capture-templates
        `((<span style="color: #A3BE8C;">"r"</span> <span style="color: #A3BE8C;">"Reading"</span> entry (file <span style="color: #A3BE8C;">"~/proj/lists/read.org"</span>)
           <span style="color: #A3BE8C;">"* TODO %?\n  Entered on %U\n  %i"</span>)
          (<span style="color: #A3BE8C;">"t"</span> <span style="color: #A3BE8C;">"Task"</span> entry (file <span style="color: #A3BE8C;">""</span>)
           <span style="color: #A3BE8C;">"* TODO %?\n %i"</span>)))

  (<span style="color: #81A1C1;">setq</span> org-refile-targets '((nil . (<span style="color: #81A1C1;">:maxlevel</span> . 10))))

  (<span style="color: #81A1C1;">setq</span> org-export-with-smart-quotes t)
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'ace-link
    <span style="color: #616e88;">;; </span><span style="color: #616e88;">(bind-keys :map org-agenda-mode-map</span>
    <span style="color: #616e88;">;;            </span><span style="color: #616e88;">("M-o" . ace-link-org))</span>
    (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> org-mode-map
               (<span style="color: #A3BE8C;">"M-o"</span> . ace-link-org))))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ox-latex</span>
  <span style="color: #81A1C1;">:after</span> org)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ox-bibtex</span>
  <span style="color: #81A1C1;">:after</span> org)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ox-md</span>
  <span style="color: #81A1C1;">:after</span> org)

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ob-python</span>
  <span style="color: #81A1C1;">:after</span> org
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> org-babel-python-command <span style="color: #A3BE8C;">"python3"</span>))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">toc-org</span>
  <span style="color: #81A1C1;">:disabled</span> t
  <span style="color: #81A1C1;">:after</span> org
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'org-mode-hook 'toc-org-enable))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">evil-org</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:after</span> (evil org)
  <span style="color: #81A1C1;">:config</span>
  (add-hook 'org-mode-hook 'evil-org-mode)
  (evil-org-set-key-theme)
  (<span style="color: #81A1C1;">setq</span> evil-org-special-o/O '(table-row)))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">org-tempo</span>
  <span style="color: #81A1C1;">:after</span> org)
</pre>
</div>
</div>
</div>

<div id="outline-container-org116d2c2" class="outline-3">
<h3 id="org116d2c2"><span class="section-number-3">5.24</span> Org-page</h3>
<div class="outline-text-3" id="text-5-24">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">org-page</span>
<span style="color: #81A1C1;">:after</span> org
<span style="color: #81A1C1;">:straight</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc89dac" class="outline-3">
<h3 id="orgfc89dac"><span class="section-number-3">5.25</span> <code>pdf-tools</code></h3>
<div class="outline-text-3" id="text-5-25">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">pdf-tools</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:mode</span> (<span style="color: #A3BE8C;">"\\.pdf$"</span> . pdf-view-mode)
  <span style="color: #81A1C1;">:config</span>
  (pdf-tools-install)

  (<span style="color: #81A1C1;">let</span> ((foreground-orig (car pdf-view-midnight-colors)))
    (<span style="color: #81A1C1;">setq</span> pdf-view-midnight-colors
          (cons <span style="color: #A3BE8C;">"white"</span> <span style="color: #A3BE8C;">"black"</span>)))

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
      (<span style="color: #81A1C1;">progn</span>
        (add-to-list 'evil-emacs-state-modes 'pdf-outline-buffer-mode)
        (add-to-list 'evil-emacs-state-modes 'pdf-view-mode))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org34a2e22" class="outline-3">
<h3 id="org34a2e22"><span class="section-number-3">5.26</span> <code>projectile</code></h3>
<div class="outline-text-3" id="text-5-26">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: For sake of Constant Reader, give some context as to why this might be</span>
<span style="color: #616e88;">;; </span><span style="color: #616e88;">necessary (at least for me)</span>
(<span style="color: #81A1C1;">defun</span> <span style="color: #88C0D0;">jjin/projectile-absolute-compilation-dir-maybe</span> ()
  <span style="color: #616e88;">"Returns the default compilation dir of the current Projectile project type if</span>
<span style="color: #616e88;">  it is an absolute path; otherwise, return nil."</span>
  (<span style="color: #81A1C1;">let*</span> ((type (projectile-project-type))
         (comp-dir (projectile-default-compilation-dir type)))
    (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">and</span> comp-dir (file-name-absolute-p comp-dir)) comp-dir nil)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">projectile</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:diminish</span> projectile-mode
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> projectile-globally-ignored-files '(<span style="color: #A3BE8C;">"TAGS"</span>
                                            <span style="color: #A3BE8C;">"GPATH"</span>
                                            <span style="color: #A3BE8C;">"GRTAGS"</span>
                                            <span style="color: #A3BE8C;">"GSYMS"</span>
                                            <span style="color: #A3BE8C;">"GTAGS"</span>)
        projectile-globally-ignored-file-suffixes '(<span style="color: #A3BE8C;">"~"</span>))

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">We'd like projects contained within other projects, e.g. packages pulled</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">into the .emacs.d/.straight dir via straight.el, to be recognized as</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">Projectile packages.</span>

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">TODO: This doesn't play well with monorepo structures that might have</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">multiple "project root" files scattered throughout the codebase.</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">(setq projectile-project-root-files-functions</span>
  <span style="color: #616e88;">;;       </span><span style="color: #616e88;">'(projectile-root-local</span>
  <span style="color: #616e88;">;;         </span><span style="color: #616e88;">projectile-root-top-down</span>
  <span style="color: #616e88;">;;         </span><span style="color: #616e88;">projectile-root-top-down-recurring</span>
  <span style="color: #616e88;">;;         </span><span style="color: #616e88;">projectile-root-bottom-up))</span>

  <span style="color: #81A1C1;">:config</span>
  (define-key projectile-mode-map (kbd <span style="color: #A3BE8C;">"s-p"</span>) 'projectile-command-map)
  (advice-add 'projectile-compilation-dir
              <span style="color: #81A1C1;">:before-until</span>
              'jjin/projectile-absolute-compilation-dir-maybe)

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">MacOS file system is case insensitive. This means that, when combined with</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">top-down root discovery, .git directory's `</span><span style="color: #81A1C1;">description</span><span style="color: #616e88;">' file conflicts with</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">the `</span><span style="color: #81A1C1;">DESCRIPTION</span><span style="color: #616e88;">' element -- intended for R projects -- in the default</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">value of `</span><span style="color: #81A1C1;">projectile-project-root-file</span><span style="color: #616e88;">'.</span>
  <span style="color: #616e88;">;;</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">Since I really don't use R and don't plan to anytime soon, removing it from</span>
  <span style="color: #616e88;">;; </span><span style="color: #616e88;">here. Can revisit if/when ever necessary.</span>
  (<span style="color: #81A1C1;">setq</span> projectile-project-root-files
        (remove <span style="color: #A3BE8C;">"DESCRIPTION"</span> projectile-project-root-files))
  (<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"&lt;f12&gt;"</span>
            (<span style="color: #81A1C1;">lambda</span> ()
              <span style="color: #616e88;">"Save all project buffers and compile"</span>
              (<span style="color: #81A1C1;">interactive</span>)
              (projectile-save-project-buffers)
              (<span style="color: #81A1C1;">let</span> (compilation-read-command)
                (projectile-compile-project nil)))
            projectile-mode-map)

  (<span style="color: #81A1C1;">bind-key</span> <span style="color: #A3BE8C;">"c"</span>
            (<span style="color: #81A1C1;">lambda</span> (arg)
              <span style="color: #616e88;">"Run `</span><span style="color: #81A1C1;">helm-make-projectile</span><span style="color: #616e88;">' if the package is</span>
<span style="color: #616e88;">installed and the project contains a Makefile. Otherwise,</span>
<span style="color: #616e88;">fallback to default, i.e. `</span><span style="color: #81A1C1;">projectile-compile-project</span><span style="color: #616e88;">'."</span>
              (<span style="color: #81A1C1;">interactive</span> <span style="color: #A3BE8C;">"P"</span>)
              (<span style="color: #81A1C1;">if</span> (<span style="color: #81A1C1;">and</span> (package-installed-p 'helm-make)
                       (file-exists-p (concat (projectile-project-root) <span style="color: #A3BE8C;">"Makefile"</span>)))
                  (helm-make-projectile (prefix-numeric-value arg))
                (projectile-compile-project arg)))
            projectile-command-map)

  (<span style="color: #81A1C1;">setq</span> projectile-enable-caching t)

  (<span style="color: #81A1C1;">with-eval-after-load</span> 'helm
      (<span style="color: #81A1C1;">setq</span> projectile-completion-system 'helm
            projectile-switch-project-action 'helm-projectile))

  (projectile-global-mode)

  <span style="color: #616e88;">;; </span><span style="color: #616e88;">"disables "mode-line setting by project; extreme hang-up over SSH/Tramp</span>
  (<span style="color: #81A1C1;">setq</span> projectile-mode-line <span style="color: #A3BE8C;">"Projectile"</span>)
  (add-to-list 'projectile-globally-ignored-modes <span style="color: #A3BE8C;">"term-mode"</span>)

  (<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">ggtags</span>
    <span style="color: #81A1C1;">:disabled</span> t
    <span style="color: #81A1C1;">:config</span>
    (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
        (add-to-list 'evil-emacs-state-modes 'ggtags-view-search-history-mode))

    (add-hook 'c-mode-hook 'ggtags-mode)
    (add-hook 'c++-mode-hook 'ggtags-mode)
    (add-hook 'java-mode-hook 'ggtags-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab18d6d" class="outline-3">
<h3 id="orgab18d6d"><span class="section-number-3">5.27</span> <code>rich-minority-mode</code></h3>
<div class="outline-text-3" id="text-5-27">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">rich-minority</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">defconst</span> <span style="color: #D8DEE9;">my-rm-excluded-modes</span>
    '(
       <span style="color: #A3BE8C;">" pair"</span>
       <span style="color: #A3BE8C;">" Fill"</span>
       <span style="color: #A3BE8C;">" end"</span>
       <span style="color: #A3BE8C;">" Ace - Window"</span>))
  (<span style="color: #81A1C1;">dolist</span> (mode my-rm-excluded-modes)
    (add-to-list 'rm-excluded-modes mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org34a7a35" class="outline-3">
<h3 id="org34a7a35"><span class="section-number-3">5.28</span> <code>smart-mode-line</code></h3>
<div class="outline-text-3" id="text-5-28">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">smart-mode-line</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> sml/theme 'respectful)
  <span style="color: #81A1C1;">:config</span>
  (sml/setup)
  (smart-mode-line-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd40932" class="outline-3">
<h3 id="orgbd40932"><span class="section-number-3">5.29</span> <code>tramp</code></h3>
<div class="outline-text-3" id="text-5-29">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">tramp</span>
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">setq</span> tramp-default-method <span style="color: #A3BE8C;">"ssh"</span>)
  (<span style="color: #81A1C1;">setq</span> password-cache-expiry nil)
  <span style="color: #81A1C1;">:config</span>

  (add-to-list 'tramp-remote-path <span style="color: #A3BE8C;">"~/bin"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org15edbe5" class="outline-3">
<h3 id="org15edbe5"><span class="section-number-3">5.30</span> <code>undo-tree</code></h3>
<div class="outline-text-3" id="text-5-30">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">undo-tree</span>
  <span style="color: #81A1C1;">:diminish</span> undo-tree-mode
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #A3BE8C;">"C-&lt;backspace&gt;"</span> . undo-tree-undo))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc186910" class="outline-3">
<h3 id="orgc186910"><span class="section-number-3">5.31</span> <code>w3m</code></h3>
<div class="outline-text-3" id="text-5-31">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">w3m</span>
  <span style="color: #81A1C1;">:straight</span> t
  <span style="color: #81A1C1;">:bind</span> (<span style="color: #81A1C1;">:map</span> w3m-mode-map
         (<span style="color: #A3BE8C;">"P"</span> . w3m-view-previous-page)
         (<span style="color: #A3BE8C;">"n"</span> . w3m-tab-next-buffer)
         (<span style="color: #A3BE8C;">"p"</span> . w3m-tab-previous-buffer)
         (<span style="color: #A3BE8C;">"w"</span> . w3m-delete-buffer))
  <span style="color: #81A1C1;">:commands</span> w3m
  <span style="color: #81A1C1;">:init</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'helm-exec
    (helm-exec-register-executable 'w3m))
  (<span style="color: #81A1C1;">setq</span> w3m-fill-column 80)

  <span style="color: #81A1C1;">:config</span>
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'evil
    (add-to-list 'evil-emacs-state-modes 'w3m-session-select-mode))
  (<span style="color: #81A1C1;">with-eval-after-load</span> 'ace-link
    (<span style="color: #81A1C1;">bind-keys</span> <span style="color: #81A1C1;">:map</span> w3m-mode-map
               (<span style="color: #A3BE8C;">"o"</span> . ace-link-w3m)))

  (<span style="color: #81A1C1;">unbind-key</span> <span style="color: #A3BE8C;">"B"</span> w3m-mode-map))

(<span style="color: #81A1C1;">use-package</span> <span style="color: #81A1C1;">w3m-session</span>
  <span style="color: #81A1C1;">:after</span> w3m)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org19b85a4" class="outline-2">
<h2 id="org19b85a4"><span class="section-number-2">6</span> (Un)license</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">
<pre class="src src-text">This is free and unencumbered software released into the public domain.

Anyone is free to copy, modify, publish, use, compile, sell, or
distribute this software, either in source code form or as a compiled
binary, for any purpose, commercial or non-commercial, and by any
means.

In jurisdictions that recognize copyright laws, the author or authors
of this software dedicate any and all copyright interest in the
software to the public domain. We make this dedication for the benefit
of the public at large and to the detriment of our heirs and
successors. We intend this dedication to be an overt act of
relinquishment in perpetuity of all present and future rights to this
software under copyright law.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

For more information, please refer to <a href="http://unlicense.org">&lt;http://unlicense.org&gt;</a>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jonathan Jin</p>
<p class="date">Created: 2019-03-03 Sun 08:51</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
